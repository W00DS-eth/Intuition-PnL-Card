const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BYtNVeev.js","assets/react-vendor-BeRe0AgH.js","assets/metamask-sdk-B6RS6Q6B.js","assets/index-BBZAxGsu.js","assets/index-H-Ckw-g_.js","assets/index-Dwr_subZ.js","assets/events-DQ172AOg.js","assets/index.es-iK4K53oo.js"])))=>i.map(i=>d[i]);
import{r as Mi,g as mc}from"./react-vendor-BeRe0AgH.js";var fs={exports:{}},mn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho;function Id(){if(Ho)return mn;Ho=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var a in s)a!=="key"&&(i[a]=s[a])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return mn.Fragment=t,mn.jsx=n,mn.jsxs=n,mn}var Go;function Cd(){return Go||(Go=1,fs.exports=Id()),fs.exports}var Sd=Cd(),D=Mi();const P6=mc(D),Ir=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Ds=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],yc=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],gc=[...yc,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ad=[...yc,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Vo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Wo=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],wc=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ko=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function ke(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ud(e.type);return`${e.name}(${Rr(e.inputs,{includeName:t})})`}function Rr(e,{includeName:t=!1}={}){return e?e.map(n=>$d(n,{includeName:t})).join(t?", ":","):""}function $d(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Rr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Re(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function G(e){return Re(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const vc="2.39.0";let ds={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${vc}`},S=class qs extends Error{constructor(t,n={}){const r=n.cause instanceof qs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof qs&&n.cause.docsPath||n.docsPath,i=ds.getDocsUrl?.({...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...ds.version?[`Version: ${ds.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=vc}walk(t){return xc(this,t)}};function xc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?xc(e.cause,t):t?null:e}class Bd extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Qo extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ec extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Rr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Kn extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Od extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Td extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Pc extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class kd extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Zo extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ic extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Rd extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Cc extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Yo extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class en extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Sc extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Fd extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Md extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ke(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ke(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Ac=class extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Pn extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Rr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Fr extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ke(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Nd extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class _d extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let $c=class extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Ud extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class zd extends S{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let re=class extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Bc=class extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Oc=class extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Jo extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ze(e,{dir:t,size:n=32}={}){return typeof e=="string"?ft(e,{dir:t,size:n}):jd(e,{dir:t,size:n})}function ft(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Oc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function jd(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Oc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let Tc=class extends S{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},Ld=class extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Dd extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let qd=class extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function de(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Be(e,{size:t}){if(G(e)>t)throw new qd({givenSize:G(e),maxSize:t})}function Y(e,t={}){const{signed:n}=t;t.size&&Be(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Hd(e,t={}){let n=e;if(t.size&&(Be(n,{size:t.size}),n=de(n)),de(n)==="0x00")return!1;if(de(n)==="0x01")return!0;throw new Dd(n)}function ve(e,t={}){return Number(Y(e,t))}function Gd(e,t={}){let n=Ae(e);return t.size&&(Be(n,{size:t.size}),n=de(n,{dir:"right"})),new TextDecoder().decode(n)}const Vd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function le(e,t={}){return typeof e=="number"||typeof e=="bigint"?A(e,t):typeof e=="string"?Pt(e,t):typeof e=="boolean"?Ni(e,t):W(e,t)}function Ni(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Be(n,{size:t.size}),Ze(n,{size:t.size})):n}function W(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Vd[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Be(r,{size:t.size}),Ze(r,{dir:"right",size:t.size})):r}function A(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Tc({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Ze(a,{size:r}):a}const Wd=new TextEncoder;function Pt(e,t={}){const n=Wd.encode(e);return W(n,t)}const Kd=new TextEncoder;function on(e,t={}){return typeof e=="number"||typeof e=="bigint"?Zd(e,t):typeof e=="boolean"?Qd(e,t):Re(e)?Ae(e,t):vt(e,t)}function Qd(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Be(n,{size:t.size}),Ze(n,{size:t.size})):n}const He={zero:48,nine:57,A:65,F:70,a:97,f:102};function Xo(e){if(e>=He.zero&&e<=He.nine)return e-He.zero;if(e>=He.A&&e<=He.F)return e-(He.A-10);if(e>=He.a&&e<=He.f)return e-(He.a-10)}function Ae(e,t={}){let n=e;t.size&&(Be(n,{size:t.size}),n=Ze(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Xo(r.charCodeAt(a++)),u=Xo(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function Zd(e,t){const n=A(e,t);return Ae(n)}function vt(e,t={}){const n=Kd.encode(e);return typeof t.size=="number"?(Be(n,{size:t.size}),Ze(n,{dir:"right",size:t.size})):n}const cr=BigInt(2**32-1),ea=BigInt(32);function Yd(e,t=!1){return t?{h:Number(e&cr),l:Number(e>>ea&cr)}:{h:Number(e>>ea&cr)|0,l:Number(e&cr)|0}}function kc(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Yd(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const ta=(e,t,n)=>e>>>n,na=(e,t,n)=>e<<32-n|t>>>n,Ht=(e,t,n)=>e>>>n|t<<32-n,Gt=(e,t,n)=>e<<32-n|t>>>n,ur=(e,t,n)=>e<<64-n|t>>>n-32,fr=(e,t,n)=>e>>>n-32|t<<64-n,Jd=(e,t,n)=>e<<n|t>>>32-n,Xd=(e,t,n)=>t<<n|e>>>32-n,e0=(e,t,n)=>t<<n-32|e>>>64-n,t0=(e,t,n)=>e<<n-32|t>>>64-n;function Ge(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const n0=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),r0=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,s0=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),i0=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,o0=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),a0=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Vt=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function c0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function In(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function It(e,...t){if(!c0(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function u0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");In(e.outputLen),In(e.blockLen)}function tn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Rc(e,t){It(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function f0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function lt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ls(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ue(e,t){return e<<32-t|e>>>t}const d0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function l0(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function h0(e){for(let t=0;t<e.length;t++)e[t]=l0(e[t]);return e}const ra=d0?e=>e:h0;function p0(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Mr(e){return typeof e=="string"&&(e=p0(e)),It(e),e}function b0(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];It(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class _i{}function Nr(e){const t=r=>e().update(Mr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function m0(e=32){if(Vt&&typeof Vt.getRandomValues=="function")return Vt.getRandomValues(new Uint8Array(e));if(Vt&&typeof Vt.randomBytes=="function")return Uint8Array.from(Vt.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const y0=BigInt(0),yn=BigInt(1),g0=BigInt(2),w0=BigInt(7),v0=BigInt(256),x0=BigInt(113),Fc=[],Mc=[],Nc=[];for(let e=0,t=yn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Fc.push(2*(5*r+n)),Mc.push((e+1)*(e+2)/2%64);let s=y0;for(let i=0;i<7;i++)t=(t<<yn^(t>>w0)*x0)%v0,t&g0&&(s^=yn<<(yn<<BigInt(i))-yn);Nc.push(s)}const _c=kc(Nc,!0),E0=_c[0],P0=_c[1],sa=(e,t,n)=>n>32?e0(e,t,n):Jd(e,t,n),ia=(e,t,n)=>n>32?t0(e,t,n):Xd(e,t,n);function I0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],l=sa(u,f,1)^n[a],d=ia(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=l,e[o+h+1]^=d}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=Mc[o],c=sa(s,i,a),u=ia(s,i,a),f=Fc[o];s=e[f],i=e[f+1],e[f]=c,e[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=E0[r],e[1]^=P0[r]}lt(n)}class Ui extends _i{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,In(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=f0(this.state)}clone(){return this._cloneInto()}keccak(){ra(this.state32),I0(this.state32,this.rounds),ra(this.state32),this.posOut=0,this.pos=0}update(t){tn(this),t=Mr(t),It(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){tn(this,!1),It(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return In(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Rc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,lt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new Ui(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const C0=(e,t,n)=>Nr(()=>new Ui(t,e,n)),Uc=C0(1,136,256/8);function J(e,t){const n=t||"hex",r=Uc(Re(e,{strict:!1})?on(e):e);return n==="bytes"?r:le(r)}let _r=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const S0=/^0x[a-fA-F0-9]{40}$/,hs=new _r(8192);function K(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(hs.has(r))return hs.get(r);const s=S0.test(e)?e.toLowerCase()===e?!0:n?Ur(e)===e:!0:!1;return hs.set(r,s),s}const ps=new _r(8192);function Ur(e,t){if(ps.has(`${e}.${t}`))return ps.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=J(vt(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return ps.set(`${e}.${t}`,i),i}function X(e,t){if(!K(e,{strict:!1}))throw new re({address:e});return Ur(e,t)}let oa=class extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},zc=class extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},A0=class extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const $0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new A0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new zc({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new oa({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new oa({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function zi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create($0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ct(e,t,n,{strict:r}={}){return Re(e,{strict:!1})?Hs(e,t,n,{strict:r}):Dc(e,t,n,{strict:r})}function jc(e,t){if(typeof t=="number"&&t>0&&t>G(e)-1)throw new Bc({offset:t,position:"start",size:G(e)})}function Lc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&G(e)!==n-t)throw new Bc({offset:n,position:"end",size:G(e)})}function Dc(e,t,n,{strict:r}={}){jc(e,t);const s=e.slice(t,n);return r&&Lc(s,t,n),s}function Hs(e,t,n,{strict:r}={}){jc(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Lc(s,t,n),s}function B0(e,t={}){typeof t.size<"u"&&Be(e,{size:t.size});const n=W(e,t);return Y(n,t)}function O0(e,t={}){let n=e;if(typeof t.size<"u"&&(Be(n,{size:t.size}),n=de(n)),n.length>1||n[0]>1)throw new Ld(n);return!!n[0]}function Ye(e,t={}){typeof t.size<"u"&&Be(e,{size:t.size});const n=W(e,t);return ve(n,t)}function T0(e,t={}){let n=e;return typeof t.size<"u"&&(Be(n,{size:t.size}),n=de(n,{dir:"right"})),new TextDecoder().decode(n)}function Fe(e){return typeof e[0]=="string"?he(e):k0(e)}function k0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function he(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const R0=/^(.*)\[([0-9]*)\]$/,qc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ji=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function nt(e,t){if(e.length!==t.length)throw new Pc({expectedLength:e.length,givenLength:t.length});const n=F0({params:e,values:t}),r=Di(n);return r.length===0?"0x":r}function F0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Li({param:e[r],value:t[r]}));return n}function Li({param:e,value:t}){const n=qi(e.type);if(n){const[r,s]=n;return N0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return L0(t,{param:e});if(e.type==="address")return M0(t);if(e.type==="bool")return U0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=ji.exec(e.type)??[];return z0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return _0(t,{param:e});if(e.type==="string")return j0(t);throw new Nd(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Di(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=G(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(A(t+s,{size:32})),r.push(a),s+=G(a)):n.push(a)}return Fe([...n,...r])}function M0(e){if(!K(e))throw new re({address:e});return{dynamic:!1,encoded:ft(e.toLowerCase())}}function N0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new $c(e);if(!r&&e.length!==t)throw new Od({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Li({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Di(i);if(r){const a=A(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Fe([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Fe(i.map(({encoded:o})=>o))}}function _0(e,{param:t}){const[,n]=t.type.split("bytes"),r=G(e);if(!n){let s=e;return r%32!==0&&(s=ft(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Fe([ft(A(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Td({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ft(e,{dir:"right"})}}function U0(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ft(Ni(e))}}function z0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Tc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:A(e,{size:32,signed:t})}}function j0(e){const t=Pt(e),n=Math.ceil(G(t)/32),r=[];for(let s=0;s<n;s++)r.push(ft(Ct(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Fe([ft(A(G(t),{size:32})),...r])}}function L0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Li({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Di(r):Fe(r.map(({encoded:s})=>s))}}function qi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Qn(e,t){const n=typeof t=="string"?Ae(t):t,r=zi(n);if(G(n)===0&&e.length>0)throw new Kn;if(G(t)&&G(t)<32)throw new Ec({data:typeof t=="string"?t:W(t),params:e,size:G(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=Yt(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Yt(e,t,{staticPosition:n}){const r=qi(t.type);if(r){const[s,i]=r;return q0(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return W0(e,t,{staticPosition:n});if(t.type==="address")return D0(e);if(t.type==="bool")return H0(e);if(t.type.startsWith("bytes"))return G0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return V0(e,t);if(t.type==="string")return K0(e,{staticPosition:n});throw new _d(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const aa=32,Gs=32;function D0(e){const t=e.readBytes(32);return[Ur(W(Dc(t,-20))),32]}function q0(e,t,{length:n,staticPosition:r}){if(!n){const o=Ye(e.readBytes(Gs)),a=r+o,c=a+aa;e.setPosition(a);const u=Ye(e.readBytes(aa)),f=Cn(t);let l=0;const d=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:l));const[m,p]=Yt(e,t,{staticPosition:c});l+=p,d.push(m)}return e.setPosition(r+32),[d,32]}if(Cn(t)){const o=Ye(e.readBytes(Gs)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Yt(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Yt(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function H0(e){return[O0(e.readBytes(32),{size:32}),32]}function G0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Ye(e.readBytes(32));e.setPosition(n+o);const a=Ye(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[W(c),32]}return[W(e.readBytes(Number.parseInt(s,10),32)),32]}function V0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?B0(s,{signed:n}):Ye(s,{signed:n}),32]}function W0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Cn(t)){const o=Ye(e.readBytes(Gs)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[f,l]=Yt(e,u,{staticPosition:a});i+=l,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Yt(e,a,{staticPosition:n});s[r?o:a?.name]=c,i+=u}return[s,i]}function K0(e,{staticPosition:t}){const n=Ye(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ye(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=T0(de(i));return e.setPosition(t+32),[o,32]}function Cn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Cn);const n=qi(e.type);return!!(n&&Cn({...e,type:n[1]}))}const Q0=e=>J(on(e));function Z0(e){return Q0(e)}const Y0="1.1.0";let pe=class Vs extends Error{constructor(t,n={}){const r=n.cause instanceof Vs?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Vs&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Y0}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function rt(e,t){return e.exec(t)?.groups}const Hc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Gc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Vc=/^\(.+?\).*?$/,ca=/^tuple(?<array>(\[(\d*)\])*)$/;function Ws(e){let t=e.type;if(ca.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Ws(i),s<n-1&&(t+=", ")}const r=rt(ca,e.type);return t+=`)${r?.array??""}`,Ws({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Kt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ws(s),r!==n-1&&(t+=", ")}return t}function Cr(e){return e.type==="function"?`function ${e.name}(${Kt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Kt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Kt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Kt(e.inputs)})`:e.type==="constructor"?`constructor(${Kt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Wc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function J0(e){return Wc.test(e)}function X0(e){return rt(Wc,e)}const Kc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function el(e){return Kc.test(e)}function tl(e){return rt(Kc,e)}const Qc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function nl(e){return Qc.test(e)}function rl(e){return rt(Qc,e)}const Zc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function zr(e){return Zc.test(e)}function sl(e){return rt(Zc,e)}const Yc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function il(e){return Yc.test(e)}function ol(e){return rt(Yc,e)}const Jc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function al(e){return Jc.test(e)}function cl(e){return rt(Jc,e)}const ul=/^receive\(\) external payable$/;function fl(e){return ul.test(e)}const ua=new Set(["memory","indexed","storage","calldata"]),dl=new Set(["indexed"]),Ks=new Set(["calldata","memory","storage"]);class ll extends pe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class hl extends pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class pl extends pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class bl extends pe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class ml extends pe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class yl extends pe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class gl extends pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class wl extends pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class vl extends pe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class an extends pe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class xl extends pe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class El extends pe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Pl extends pe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Il extends pe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Cl(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const bs=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Qs(e,t={}){if(nl(e))return Sl(e,t);if(el(e))return Al(e,t);if(J0(e))return $l(e,t);if(il(e))return Bl(e,t);if(al(e))return Ol(e);if(fl(e))return{type:"receive",stateMutability:"payable"};throw new xl({signature:e})}function Sl(e,t={}){const n=rl(e);if(!n)throw new an({signature:e,type:"function"});const r=ge(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Xe(r[a],{modifiers:Ks,structs:t,type:"function"}));const o=[];if(n.returns){const a=ge(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Xe(a[u],{modifiers:Ks,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Al(e,t={}){const n=tl(e);if(!n)throw new an({signature:e,type:"event"});const r=ge(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Xe(r[o],{modifiers:dl,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function $l(e,t={}){const n=X0(e);if(!n)throw new an({signature:e,type:"error"});const r=ge(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Xe(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Bl(e,t={}){const n=ol(e);if(!n)throw new an({signature:e,type:"constructor"});const r=ge(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Xe(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ol(e){const t=cl(e);if(!t)throw new an({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Tl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,kl=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Rl=/^u?int$/;function Xe(e,t){const n=Cl(e,t?.type,t?.structs);if(bs.has(n))return bs.get(n);const r=Vc.test(e),s=rt(r?kl:Tl,e);if(!s)throw new ml({param:e});if(s.name&&Ml(s.name))throw new yl({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const l=ge(s.type),d=[],h=l.length;for(let m=0;m<h;m++)d.push(Xe(l[m],{structs:a}));u={components:d}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Rl.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!Xc(c))throw new pl({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new gl({param:e,type:t?.type,modifier:s.modifier});if(Ks.has(s.modifier)&&!Nl(c,!!s.array))throw new wl({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return bs.set(n,f),f}function ge(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?ge(a,[...t,n.trim()]):ge(a,t,`${n}${o}`,r);case"(":return ge(a,t,`${n}${o}`,r+1);case")":return ge(a,t,`${n}${o}`,r-1);default:return ge(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Il({current:n,depth:r});return t.push(n.trim()),t}function Xc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Hc.test(e)||Gc.test(e)}const Fl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Ml(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Hc.test(e)||Gc.test(e)||Fl.test(e)}function Nl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Hi(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!zr(a))continue;const c=sl(a);if(!c)throw new an({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],l=u.length;for(let d=0;d<l;d++){const m=u[d].trim();if(!m)continue;const p=Xe(m,{type:"struct"});f.push(p)}if(!f.length)throw new El({signature:a});t[c.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=eu(c,t)}return r}const _l=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function eu(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(Vc.test(o.type))r.push(o);else{const c=rt(_l,o.type);if(!c?.type)throw new vl({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new Pl({type:f});r.push({...o,type:`tuple${u??""}`,components:eu(t[f]??[],t,new Set([...n,f]))})}else if(Xc(f))r.push(o);else throw new hl({type:f})}}return r}function tu(e){const t=Hi(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];zr(i)||n.push(Qs(i,t))}return n}function fa(e){let t;if(typeof e=="string")t=Qs(e);else{const n=Hi(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!zr(i)){t=Qs(i,n);break}}}if(!t)throw new ll({signature:e});return t}function da(e){const t=[];if(typeof e=="string"){const n=ge(e),r=n.length;for(let s=0;s<r;s++)t.push(Xe(n[s],{modifiers:ua}))}else{const n=Hi(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(zr(i))continue;const o=ge(i),a=o.length;for(let c=0;c<a;c++)t.push(Xe(o[c],{modifiers:ua,structs:n}))}}if(t.length===0)throw new bl({params:e});return t}function Ul(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new S("Unable to normalize signature.");return s}const zl=e=>{const t=typeof e=="string"?e:Cr(e);return Ul(t)};function nu(e){return Z0(zl(e))}const jr=nu,Zn=e=>Ct(nu(e),0,4);function Ut(e){const{abi:t,args:n=[],name:r}=e,s=Re(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Zn(a)===r:a.type==="event"?jr(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const l="inputs"in a&&a.inputs[f];return l?Zs(u,l):!1})){if(o&&"inputs"in o&&o.inputs){const u=ru(a.inputs,o.inputs,n);if(u)throw new Md({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function Zs(e,t){const n=typeof e,r=t.type;switch(r){case"address":return K(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Zs(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Zs(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ru(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return ru(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?K(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?K(n[r],{strict:!1}):!1)return o}}const ms="/docs/contract/decodeFunctionResult";function zt(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Ut({abi:t,args:n,name:r});if(!a)throw new en(r,{docsPath:ms});i=a}if(i.type!=="function")throw new en(void 0,{docsPath:ms});if(!i.outputs)throw new Sc(i.name,{docsPath:ms});const o=Qn(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const la="/docs/contract/encodeFunctionData";function jl(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Ut({abi:t,args:n,name:r});if(!i)throw new en(r,{docsPath:la});s=i}if(s.type!=="function")throw new en(void 0,{docsPath:la});return{abi:[s],functionName:Zn(ke(s))}}function _e(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:jl(e),s=n[0],i=r,o="inputs"in s&&s.inputs?nt(s.inputs,t??[]):void 0;return he([i,o??"0x"])}class Ys extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class su extends S{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Lr extends S{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function cn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Ys({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ys({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ae(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Ll={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},iu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Dl={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function ou(e){const{abi:t,data:n}=e,r=Ct(n,0,4);if(r==="0x")throw new Kn;const i=[...t||[],iu,Dl].find(o=>o.type==="error"&&r===Zn(ke(o)));if(!i)throw new Ic(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Qn(i.inputs,Ct(n,4)):void 0,errorName:i.name}}const V=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function au({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?V(t[i]):t[i]}`).join(", ")})`}const ql={gwei:9,wei:18},Hl={ether:-9,wei:9},Gl={ether:-18,gwei:-9};function Dr(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function cu(e,t="wei"){return Dr(e,ql[t])}function Te(e,t="wei"){return Dr(e,Hl[t])}class Vl extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Wl extends S{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ha(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Kl(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ha(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ha(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function qr(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Ql extends S{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Zl extends S{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Yl extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",qr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Jl extends S{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class uu extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class fu extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Xl extends S{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class eh extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const th=e=>e,Yn=e=>e;class du extends S{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d,stateOverride:h}){const m=n?ae(n):void 0;let p=qr({from:m?.address,to:l,value:typeof d<"u"&&`${cu(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Te(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Te(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Te(u)} gwei`,nonce:f});h&&(p+=`
${Kl(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Gi extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Ut({abi:n,args:r,name:o}),u=c?au({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ke(c,{includeName:!0}):void 0,l=qr({address:s&&th(s),function:f,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class Js extends S{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=ou({abi:t,data:n});const{abiItem:f,errorName:l,args:d}=o;if(l==="Error")c=d[0];else if(l==="Panic"){const[h]=d;c=Ll[h]}else{const h=f?ke(f,{includeName:!0}):void 0,m=f&&d?au({abiItem:f,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",m&&m!=="()"?`       ${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof Ic&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class nh extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class rh extends S{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Hr extends S{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Vi(e){if(!(e instanceof S))return!1;const t=e.walk(n=>n instanceof Js);return t instanceof Js?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function sh(e){const{abi:t,data:n}=e,r=Ct(n,0,4),s=t.find(i=>i.type==="function"&&r===Zn(ke(i)));if(!s)throw new Fd(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Qn(s.inputs,Ct(n,4)):void 0}}const ys="/docs/contract/encodeErrorResult";function pa(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Ut({abi:t,args:r,name:n});if(!c)throw new Zo(n,{docsPath:ys});s=c}if(s.type!=="error")throw new Zo(void 0,{docsPath:ys});const i=ke(s),o=Zn(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new kd(s.name,{docsPath:ys});a=nt(s.inputs,r)}return he([o,a])}const gs="/docs/contract/encodeFunctionResult";function ih(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Ut({abi:t,name:n});if(!o)throw new en(n,{docsPath:gs});s=o}if(s.type!=="function")throw new en(void 0,{docsPath:gs});if(!s.outputs)throw new Sc(s.name,{docsPath:gs});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new $c(r)})();return nt(s.outputs,i)}const Jn="x-batch-gateway:true";async function lu(e){const{data:t,ccipRequest:n}=e,{args:[r]}=sh({abi:Ds,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(Jn)?await lu({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=oh(c)}})),ih({abi:Ds,functionName:"query",result:[s,i]})}function oh(e){return e.name==="HttpRequestError"&&e.status?pa({abi:Ds,errorName:"HttpError",args:[e.status,e.shortMessage]}):pa({abi:[iu],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function hu(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Re(t)?t:null}function Xs(e){let t=new Uint8Array(32).fill(0);if(!e)return W(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=hu(n[r]),i=s?on(s):J(vt(n[r]),"bytes");t=J(Fe([t,i]),"bytes")}return W(t)}function ah(e){return`[${e.slice(2)}]`}function ch(e){const t=new Uint8Array(32).fill(0);return e?hu(e)||J(vt(e)):W(t)}function Wi(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(vt(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=vt(s[i]);o.byteLength>255&&(o=vt(ah(ch(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}class xt extends S{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Yn(o)}`,t&&`Request body: ${V(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class Ki extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Yn(r)}`,`Request body: ${V(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ba extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Yn(n)}`,`Request body: ${V(t)}`],name:"TimeoutError"})}}const uh=-1;class be extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Ki?t.code:n??uh}}class Ee extends be{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Sn extends be{constructor(t){super(t,{code:Sn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class An extends be{constructor(t){super(t,{code:An.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $n extends be{constructor(t,{method:n}={}){super(t,{code:$n.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Bn extends be{constructor(t){super(t,{code:Bn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class St extends be{constructor(t){super(t,{code:St.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class At extends be{constructor(t){super(t,{code:At.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class On extends be{constructor(t){super(t,{code:On.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Le extends be{constructor(t){super(t,{code:Le.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class nn extends be{constructor(t){super(t,{code:nn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class mt extends be{constructor(t,{method:n}={}){super(t,{code:mt.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class rn extends be{constructor(t){super(t,{code:rn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Tn extends be{constructor(t){super(t,{code:Tn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class q extends Ee{constructor(t){super(t,{code:q.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class kn extends Ee{constructor(t){super(t,{code:kn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Rn extends Ee{constructor(t,{method:n}={}){super(t,{code:Rn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Fn extends Ee{constructor(t){super(t,{code:Fn.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Mn extends Ee{constructor(t){super(t,{code:Mn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class we extends Ee{constructor(t){super(t,{code:we.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(we,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Nn extends Ee{constructor(t){super(t,{code:Nn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class _n extends Ee{constructor(t){super(t,{code:_n.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Un extends Ee{constructor(t){super(t,{code:Un.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class zn extends Ee{constructor(t){super(t,{code:zn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class jn extends Ee{constructor(t){super(t,{code:jn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Ln extends Ee{constructor(t){super(t,{code:Ln.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Dn extends Ee{constructor(t){super(t,{code:Dn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class fh extends be{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const dh=3;function sn(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof Hr?e:e instanceof S?e.walk(m=>"data"in m)||e.walk():{},{code:c,data:u,details:f,message:l,shortMessage:d}=a,h=e instanceof Kn?new nh({functionName:i}):[dh,St.code].includes(c)&&(u||f||l||d)?new Js({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof Ki?f:d??l}):e;return new Gi(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}const lh="modulepreload",hh=function(e){return"/Intuition-PnL-Card/"+e},ma={},$t=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=c(n.map(u=>{if(u=hh(u),u in ma)return;ma[u]=!0;const f=u.endsWith(".css"),l=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${l}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":lh,f||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),f)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qi=BigInt(0),ei=BigInt(1);function Xn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Zi(e){if(!Xn(e))throw new Error("Uint8Array expected")}function qn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function dr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function pu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Qi:BigInt("0x"+e)}const bu=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ph=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hn(e){if(Zi(e),bu)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=ph[e[n]];return t}const Ve={_0:48,_9:57,A:65,F:70,a:97,f:102};function ya(e){if(e>=Ve._0&&e<=Ve._9)return e-Ve._0;if(e>=Ve.A&&e<=Ve.F)return e-(Ve.A-10);if(e>=Ve.a&&e<=Ve.f)return e-(Ve.a-10)}function Sr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(bu)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=ya(e.charCodeAt(i)),a=ya(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Et(e){return pu(Hn(e))}function mu(e){return Zi(e),pu(Hn(Uint8Array.from(e).reverse()))}function er(e,t){return Sr(e.toString(16).padStart(t*2,"0"))}function yu(e,t){return er(e,t).reverse()}function Ce(e,t,n){let r;if(typeof t=="string")try{r=Sr(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Xn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Ar(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Zi(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const ws=e=>typeof e=="bigint"&&Qi<=e;function Yi(e,t,n){return ws(e)&&ws(t)&&ws(n)&&t<=e&&e<n}function Jt(e,t,n,r){if(!Yi(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function bh(e){let t;for(t=0;e>Qi;e>>=ei,t+=1);return t}const Gr=e=>(ei<<BigInt(e))-ei,vs=e=>new Uint8Array(e),ga=e=>Uint8Array.from(e);function mh(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=vs(e),s=vs(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...l)=>n(s,r,...l),c=(l=vs(0))=>{s=a(ga([0]),l),r=a(),l.length!==0&&(s=a(ga([1]),l),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const d=[];for(;l<t;){r=a();const h=r.slice();d.push(h),l+=r.length}return Ar(...d)};return(l,d)=>{o(),c(l);let h;for(;!(h=d(u()));)c();return o(),h}}const yh={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Xn(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Vr(e,t,n={}){const r=(s,i,o)=>{const a=yh[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function wa(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const gh="0.1.1";function wh(){return gh}let j=class ti extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof ti){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof ti&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${wh()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return gu(this,t)}};function gu(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?gu(e.cause,t):t?null:e}function tr(e,t){if(Qt(e)>t)throw new Nh({givenSize:Qt(e),maxSize:t})}const We={zero:48,nine:57,A:65,F:70,a:97,f:102};function va(e){if(e>=We.zero&&e<=We.nine)return e-We.zero;if(e>=We.A&&e<=We.F)return e-(We.A-10);if(e>=We.a&&e<=We.f)return e-(We.a-10)}function vh(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new _h({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function wu(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Wr(e,t){if(xe(e)>t)throw new qh({givenSize:xe(e),maxSize:t})}function xh(e,t){if(typeof t=="number"&&t>0&&t>xe(e)-1)throw new $u({offset:t,position:"start",size:xe(e)})}function Eh(e,t,n){if(typeof t=="number"&&typeof n=="number"&&xe(e)!==n-t)throw new $u({offset:n,position:"end",size:xe(e)})}function vu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Hh({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Ph="#__bigint";function xu(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Ph:s,n)}const Ih=new TextDecoder,Ch=new TextEncoder;function Sh(e){return e instanceof Uint8Array?e:typeof e=="string"?Eu(e):Ah(e)}function Ah(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Eu(e,t={}){const{size:n}=t;let r=e;n&&(Wr(e,n),r=Ot(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=va(s.charCodeAt(c++)),f=va(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new j(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+f}return o}function $h(e,t={}){const{size:n}=t,r=Ch.encode(e);return typeof n=="number"?(tr(r,n),Bh(r,n)):r}function Bh(e,t){return vh(e,{dir:"right",size:t})}function Qt(e){return e.length}function Oh(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Th(e,t={}){const{size:n}=t;typeof n<"u"&&tr(e,n);const r=Ne(e,t);return Cu(r,t)}function kh(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(tr(r,n),r=Pu(r)),r.length>1||r[0]>1)throw new Mh(r);return!!r[0]}function Je(e,t={}){const{size:n}=t;typeof n<"u"&&tr(e,n);const r=Ne(e,t);return Su(r,t)}function Rh(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(tr(r,n),r=Fh(r)),Ih.decode(r)}function Pu(e){return wu(e,{dir:"left"})}function Fh(e){return wu(e,{dir:"right"})}class Mh extends j{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Nh=class extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},_h=class extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Uh=new TextEncoder,zh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jh(e,t={}){const{strict:n=!1}=t;if(!e)throw new xa(e);if(typeof e!="string")throw new xa(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ea(e);if(!e.startsWith("0x"))throw new Ea(e)}function Me(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Lh(e){return e instanceof Uint8Array?Ne(e):Array.isArray(e)?Ne(new Uint8Array(e)):e}function Iu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Wr(n,t.size),Bt(n,t.size)):n}function Ne(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=zh[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Wr(r,t.size),Ot(r,t.size)):r}function ie(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new Au({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Bt(c,r):c}function Ji(e,t={}){return Ne(Uh.encode(e),t)}function Bt(e,t){return vu(e,{dir:"left",size:t})}function Ot(e,t){return vu(e,{dir:"right",size:t})}function De(e,t,n,r={}){const{strict:s}=r;xh(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Eh(i,t,n),i}function xe(e){return Math.ceil((e.length-2)/2)}function Cu(e,t={}){const{signed:n}=t;t.size&&Wr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function Su(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Cu(e,t))}function Dh(e,t={}){const{strict:n=!1}=t;try{return jh(e,{strict:n}),!0}catch{return!1}}class Au extends j{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class xa extends j{constructor(t){super(`Value \`${typeof t=="object"?xu(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ea extends j{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class qh extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class $u extends j{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Hh extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Gh(e){return{address:e.address,amount:ie(e.amount),index:ie(e.index),validatorIndex:ie(e.validatorIndex)}}function Bu(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:ie(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:ie(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:ie(e.gasLimit)},...typeof e.number=="bigint"&&{number:ie(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:ie(e.prevRandao)},...typeof e.time=="bigint"&&{time:ie(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Gh)}}}const Vh="0x82ad56cb",Ou="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Wh="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Kh="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Xi="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",xs="/docs/contract/encodeDeployData";function eo(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Bd({docsPath:xs});if(!("inputs"in s))throw new Qo({docsPath:xs});if(!s.inputs||s.inputs.length===0)throw new Qo({docsPath:xs});const i=nt(s.inputs,n);return he([r,i])}class yt extends S{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Tt extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Te(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Tt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class ni extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Te(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(ni,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class ri extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class si extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(si,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ii extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(ii,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class oi extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(oi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ai extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ai,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ci extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ci,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ui extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ui,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Gn extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Te(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Te(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Gn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Kr extends S{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function to(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(s=>s?.code===yt.code):e;return r instanceof S?new yt({cause:e,message:r.details}):yt.nodeMessage.test(n)?new yt({cause:e,message:e.details}):Tt.nodeMessage.test(n)?new Tt({cause:e,maxFeePerGas:t?.maxFeePerGas}):ni.nodeMessage.test(n)?new ni({cause:e,maxFeePerGas:t?.maxFeePerGas}):ri.nodeMessage.test(n)?new ri({cause:e,nonce:t?.nonce}):si.nodeMessage.test(n)?new si({cause:e,nonce:t?.nonce}):ii.nodeMessage.test(n)?new ii({cause:e,nonce:t?.nonce}):oi.nodeMessage.test(n)?new oi({cause:e}):ai.nodeMessage.test(n)?new ai({cause:e,gas:t?.gas}):ci.nodeMessage.test(n)?new ci({cause:e,gas:t?.gas}):ui.nodeMessage.test(n)?new ui({cause:e}):Gn.nodeMessage.test(n)?new Gn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Kr({cause:e})}function Tu(e,{docsPath:t,...n}){const r=(()=>{const s=to(e,n);return s instanceof Kr?e:s})();return new du(r,{docsPath:t,...n})}function no(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function ro(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const Qh={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Qr(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Zh(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>W(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=A(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=A(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=A(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=A(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=A(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=A(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Qh[e.type]),typeof e.value<"u"&&(n.value=A(e.value)),n}function Zh(e){return e.map(t=>({address:t.address,r:t.r?A(BigInt(t.r)):t.r,s:t.s?A(BigInt(t.s)):t.s,chainId:A(t.chainId),nonce:A(t.nonce),...typeof t.yParity<"u"?{yParity:A(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:A(t.v)}:{}}))}function so(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Es=new Map;function ku({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const l=f.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<f.length;h++){const{resolve:m}=f[h];m?.([d[h],d])}}).catch(d=>{for(let h=0;h<f.length;h++){const{reject:m}=f[h];m?.(d)}})},o=()=>Es.delete(t),a=()=>c().map(({args:f})=>f),c=()=>Es.get(t)||[],u=f=>Es.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:l,resolve:d,reject:h}=so();return n?.([...a(),f])&&i(),c().length>0?(u({args:f,resolve:d,reject:h}),l):(u({args:f,resolve:d,reject:h}),setTimeout(i,r),l)}}}function Pa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Jo({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Jo({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Yh(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=A(t)),n!==void 0&&(o.nonce=A(n)),r!==void 0&&(o.state=Pa(r)),s!==void 0){if(o.state)throw new Wl;o.stateDiff=Pa(s)}return o}function io(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!K(n,{strict:!1}))throw new re({address:n});if(t[n])throw new Vl({address:n});t[n]=Yh(r)}return t}const Zr=2n**256n-1n;function nr(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?ae(t):void 0;if(o&&!K(o.address))throw new re({address:o.address});if(i&&!K(i))throw new re({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Ql;if(r&&r>Zr)throw new Tt({maxFeePerGas:r});if(s&&r&&s>r)throw new Gn({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function rr(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:l,factory:d,factoryData:h,gas:m,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:v,maxPriorityFeePerGas:x,nonce:g,to:w,value:y,stateOverride:P,...E}=t,I=n?ae(n):void 0;if(f&&(d||h))throw new S("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&w)throw new S("Cannot provide both `code` & `to` as parameters.");const C=f&&l,$=d&&h&&w&&l,B=C||$,F=C?Ru({code:f,data:l}):$?ep({data:l,factory:d,factoryData:h,to:w}):l;try{nr(t);const z=(typeof i=="bigint"?A(i):void 0)||o,T=u?Bu(u):void 0,O=io(P),M=e.chain?.formatters?.transactionRequest?.format,N=(M||Qr)({...no(E,{format:M}),accessList:a,account:I,authorizationList:r,blobs:c,data:F,gas:m,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:v,maxPriorityFeePerGas:x,nonce:g,to:B?void 0:w,value:y},"call");if(s&&Jh({request:N})&&!O&&!T)try{return await Xh(e,{...N,blockNumber:i,blockTag:o})}catch(H){if(!(H instanceof su)&&!(H instanceof Ys))throw H}const U=(()=>{const H=[N,z];return O&&T?[...H,O,T]:O?[...H,O]:T?[...H,{},T]:H})(),L=await e.request({method:"eth_call",params:U});return L==="0x"?{data:void 0}:{data:L}}catch(R){const z=tp(R),{offchainLookup:T,offchainLookupSignature:O}=await $t(async()=>{const{offchainLookup:M,offchainLookupSignature:k}=await Promise.resolve().then(()=>kb);return{offchainLookup:M,offchainLookupSignature:k}},void 0);if(e.ccipRead!==!1&&z?.slice(0,10)===O&&w)return{data:await T(e,{data:z,to:w})};throw B&&z?.slice(0,10)==="0x101bb98d"?new rh({factory:d}):Tu(R,{...t,account:I,chain:e.chain})}}function Jh({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Vh)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Xh(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return cn({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new su})(),l=(typeof i=="bigint"?A(i):void 0)||o,{schedule:d}=ku({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(p){return p.reduce((v,{data:x})=>v+(x.length-2),0)>n*2},fn:async p=>{const b=p.map(g=>({allowFailure:!0,callData:g.data,target:g.to})),v=_e({abi:Ir,args:[b],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{...u===null?{data:Ru({code:Xi,data:v})}:{to:u,data:v}},l]});return zt({abi:Ir,args:[b],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:h,success:m}]=await d({data:a,to:c});if(!m)throw new Hr({data:h});return h==="0x"?{data:void 0}:{data:h}}function Ru(e){const{code:t,data:n}=e;return eo({abi:tu(["constructor(bytes, bytes)"]),bytecode:Ou,args:[t,n]})}function ep(e){const{data:t,factory:n,factoryData:r,to:s}=e;return eo({abi:tu(["constructor(address, bytes, address, bytes)"]),bytecode:Wh,args:[s,t,n,r]})}function tp(e){if(!(e instanceof S))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function $e(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=_e({abi:n,args:s,functionName:i});try{const{data:c}=await _(e,rr,"call")({...o,data:a,to:r});return zt({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw sn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function np(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;const l=s!=null?[Xs(i),BigInt(s)]:[Xs(i)];try{const d=_e({abi:Wo,functionName:"addr",args:l}),h={address:u,abi:gc,functionName:"resolveWithGateways",args:[le(Wi(i)),d,o??[Jn]],blockNumber:n,blockTag:r},p=await _(e,$e,"readContract")(h);if(p[0]==="0x")return null;const b=zt({abi:Wo,args:l,functionName:"addr",data:p[0]});return b==="0x"||de(b)==="0x00"?null:b}catch(d){if(a)throw d;if(Vi(d))return null;throw d}}class rp extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class gn extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class oo extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class sp extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const ip=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,op=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ap=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,cp=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function up(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ia(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Fu({uri:e,gatewayUrls:t}){const n=ap.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ia(t?.ipfs,"https://ipfs.io"),s=Ia(t?.arweave,"https://arweave.net"),i=e.match(ip),{protocol:o,subpath:a,target:c,subtarget:u=""}=i?.groups||{},f=o==="ipns:/"||a==="ipns/",l=o==="ipfs:/"||a==="ipfs/"||op.test(e);if(e.startsWith("http")&&!f&&!l){let h=e;return t?.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||l)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(cp,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new oo({uri:e})}function Mu(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new rp({data:e});return e.image||e.image_url||e.image_data}async function fp({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await ao({gatewayUrls:e,uri:Mu(n)})}catch{throw new oo({uri:t})}}async function ao({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Fu({uri:t,gatewayUrls:e});if(r||await up(n))return n;throw new oo({uri:t})}function dp(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new gn({reason:"Only EIP-155 supported"});if(!o)throw new gn({reason:"Chain ID not found"});if(!c)throw new gn({reason:"Contract address not found"});if(!s)throw new gn({reason:"Token ID not found"});if(!a)throw new gn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function lp(e,{nft:t}){if(t.namespace==="erc721")return $e(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return $e(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new sp({namespace:t.namespace})}async function hp(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?pp(e,{gatewayUrls:t,record:n}):ao({uri:n,gatewayUrls:t})}async function pp(e,{gatewayUrls:t,record:n}){const r=dp(n),s=await lp(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=Fu({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return ao({uri:Mu(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),fp({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function Nu(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;try{const l={address:u,abi:gc,args:[le(Wi(i)),_e({abi:Vo,functionName:"text",args:[Xs(i),s]}),o??[Jn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await _(e,$e,"readContract")(l);if(h[0]==="0x")return null;const m=zt({abi:Vo,functionName:"text",data:h[0]});return m===""?null:m}catch(l){if(a)throw l;if(Vi(l))return null;throw l}}async function _u(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await _(e,Nu,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await hp(e,{record:c,gatewayUrls:r})}catch{return null}}async function Uu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Ad,args:[n,i,o??[Jn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=_(e,$e,"readContract"),[d]=await l(f);return d||null}catch(f){if(a)throw f;if(Vi(f))return null;throw f}}async function bp(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return cn({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await _(e,$e,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[le(Wi(s))],blockNumber:n,blockTag:r});return c}async function zu(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:h,...m}=t,p=n?ae(n):void 0;try{nr(t);const v=(typeof r=="bigint"?A(r):void 0)||s,x=e.chain?.formatters?.transactionRequest?.format,w=(x||Qr)({...no(m,{format:x}),account:p,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:d,value:h},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[w,v]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(b){throw Tu(b,{...t,account:p,chain:e.chain})}}function Yr(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:i,transport:o})=>{i==="success"&&t===r&&(n[s]=o.request)}),(r=>n[r]||e.request)}async function mp(e){const t=Yr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class yp extends S{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Ca="/docs/contract/encodeEventTopics";function sr(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Ut({abi:t,name:n});if(!c)throw new Yo(n,{docsPath:Ca});s=c}if(s.type!=="event")throw new Yo(void 0,{docsPath:Ca});const i=ke(s),o=jr(i);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,l)=>Array.isArray(u[l])?u[l].map((d,h)=>Sa({param:f,value:u[l][h]})):typeof u[l]<"u"&&u[l]!==null?Sa({param:f,value:u[l]}):null)??[])}return[o,...a]}function Sa({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return J(on(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new yp(e.type);return nt([e],[t])}async function ju(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=Yr(e,{method:"eth_newFilter"}),f=i?sr({abi:r,args:s,eventName:i}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?A(o):o,toBlock:typeof c=="bigint"?A(c):c,topics:f}]});return{abi:r,args:s,eventName:i,id:l,request:u(l),strict:!!a,type:"event"}}async function Lu(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Yr(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>sr({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?A(i):i,toBlock:typeof a=="bigint"?A(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:l,request:u(l),strict:!!o,toBlock:a,type:"event"}}async function Du(e){const t=Yr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function gp(e){const t=J(`0x${e.substring(4)}`).substring(26);return Ur(`0x${t}`)}async function wp({hash:e,signature:t}){const n=Re(e)?e:le(e),{secp256k1:r}=await $t(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>K1);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:d}=t,h=Number(d??l),m=Aa(h);return new r.Signature(Y(u),Y(f)).addRecoveryBit(m)}const o=Re(t)?t:le(t);if(G(o)!==65)throw new Error("invalid signature length");const a=ve(`0x${o.slice(130)}`),c=Aa(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Aa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function qu({hash:e,signature:t}){return gp(await wp({hash:e,signature:t}))}function ht(e,t="hex"){const n=Hu(e),r=zi(new Uint8Array(n.length));return n.encode(r),t==="hex"?W(r.bytes):r.bytes}function Hu(e){return Array.isArray(e)?vp(e.map(t=>Hu(t))):xp(e)}function vp(e){const t=e.reduce((s,i)=>s+i.length,0),n=Gu(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function xp(e){const t=typeof e=="string"?Ae(e):e,n=Gu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Gu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}function Ep(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=J(he(["0x05",ht([t?A(t):"0x",s,n?A(n):"0x"])]));return r==="bytes"?Ae(i):i}async function Vu(e){const{authorization:t,signature:n}=e;return qu({hash:Ep(t),signature:n??t})}class Pp extends S{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:l,value:d}){const h=qr({from:n?.address,to:l,value:typeof d<"u"&&`${cu(d)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Te(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Te(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Te(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Ip(e,{docsPath:t,...n}){const r=(()=>{const s=to(e,n);return s instanceof Kr?e:s})();return new Pp(r,{docsPath:t,...n})}class Cp extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class co extends S{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Sp extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Te(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Wu extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ku={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Jr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ve(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ve(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Ku[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=$p(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Ap=ro("transaction",Jr);function $p(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function uo(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Jr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Bp=ro("block",uo);async function je(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const i=s??!1,o=n!==void 0?A(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new Wu({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||uo)(a,"getBlock")}async function fo(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Op(e,t){return Qu(e,t)}async function Qu(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const a=n||await _(e,je,"getBlock")({}),c=await i({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof i<"u")return i;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return Y(o)}catch{const[i,o]=await Promise.all([n?Promise.resolve(n):_(e,je,"getBlock")({}),_(e,fo,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new co;const a=o-i.baseFeePerGas;return a<0n?0n:a}}async function Tp(e,t){return fi(e,t)}async function fi(e,t){const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Cp;const c=10**(o.toString().split(".")[1]?.length??0),u=d=>d*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await _(e,je,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const d=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(d!==null)return d}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new co;const d=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Qu(e,{block:f,chain:r,request:s}),h=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??h+d,maxPriorityFeePerGas:d}}return{gasPrice:s?.gasPrice??u(await _(e,fo,"getGasPrice")({}))}}async function lo(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?A(r):n]},{dedupe:!!r});return ve(s)}function ho(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Ae(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>W(i))}function po(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Ae(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>Ae(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>W(o))}function kp(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function Rp(e,t,n){return e&t^~e&n}function Fp(e,t,n){return e&t^e&n^t&n}class Zu extends _i{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=ls(this.buffer)}update(t){tn(this),t=Mr(t),It(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ls(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){tn(this),Rc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,lt(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let l=o;l<s;l++)n[l]=0;kp(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ls(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,f[l],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const ot=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),te=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ne=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Mp=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),at=new Uint32Array(64);class Np extends Zu{constructor(t=32){super(64,t,8,!1),this.A=ot[0]|0,this.B=ot[1]|0,this.C=ot[2]|0,this.D=ot[3]|0,this.E=ot[4]|0,this.F=ot[5]|0,this.G=ot[6]|0,this.H=ot[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)at[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const d=at[l-15],h=at[l-2],m=Ue(d,7)^Ue(d,18)^d>>>3,p=Ue(h,17)^Ue(h,19)^h>>>10;at[l]=p+at[l-7]+m+at[l-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let l=0;l<64;l++){const d=Ue(a,6)^Ue(a,11)^Ue(a,25),h=f+d+Rp(a,c,u)+Mp[l]+at[l]|0,p=(Ue(r,2)^Ue(r,13)^Ue(r,22))+Fp(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){lt(at)}destroy(){this.set(0,0,0,0,0,0,0,0),lt(this.buffer)}}const Yu=kc(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),_p=Yu[0],Up=Yu[1],ct=new Uint32Array(80),ut=new Uint32Array(80);class Ju extends Zu{constructor(t=64){super(128,t,16,!1),this.Ah=ne[0]|0,this.Al=ne[1]|0,this.Bh=ne[2]|0,this.Bl=ne[3]|0,this.Ch=ne[4]|0,this.Cl=ne[5]|0,this.Dh=ne[6]|0,this.Dl=ne[7]|0,this.Eh=ne[8]|0,this.El=ne[9]|0,this.Fh=ne[10]|0,this.Fl=ne[11]|0,this.Gh=ne[12]|0,this.Gl=ne[13]|0,this.Hh=ne[14]|0,this.Hl=ne[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:l,Fl:d,Gh:h,Gl:m,Hh:p,Hl:b}=this;return[t,n,r,s,i,o,a,c,u,f,l,d,h,m,p,b]}set(t,n,r,s,i,o,a,c,u,f,l,d,h,m,p,b){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=l|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=p|0,this.Hl=b|0}process(t,n){for(let g=0;g<16;g++,n+=4)ct[g]=t.getUint32(n),ut[g]=t.getUint32(n+=4);for(let g=16;g<80;g++){const w=ct[g-15]|0,y=ut[g-15]|0,P=Ht(w,y,1)^Ht(w,y,8)^ta(w,y,7),E=Gt(w,y,1)^Gt(w,y,8)^na(w,y,7),I=ct[g-2]|0,C=ut[g-2]|0,$=Ht(I,C,19)^ur(I,C,61)^ta(I,C,6),B=Gt(I,C,19)^fr(I,C,61)^na(I,C,6),F=s0(E,B,ut[g-7],ut[g-16]),R=i0(F,P,$,ct[g-7],ct[g-16]);ct[g]=R|0,ut[g]=F|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:l,El:d,Fh:h,Fl:m,Gh:p,Gl:b,Hh:v,Hl:x}=this;for(let g=0;g<80;g++){const w=Ht(l,d,14)^Ht(l,d,18)^ur(l,d,41),y=Gt(l,d,14)^Gt(l,d,18)^fr(l,d,41),P=l&h^~l&p,E=d&m^~d&b,I=o0(x,y,E,Up[g],ut[g]),C=a0(I,v,w,P,_p[g],ct[g]),$=I|0,B=Ht(r,s,28)^ur(r,s,34)^ur(r,s,39),F=Gt(r,s,28)^fr(r,s,34)^fr(r,s,39),R=r&i^r&a^i&a,z=s&o^s&c^o&c;v=p|0,x=b|0,p=h|0,b=m|0,h=l|0,m=d|0,{h:l,l:d}=Ge(u|0,f|0,C|0,$|0),u=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const T=n0($,F,z);r=r0(T,C,B,R),s=T|0}({h:r,l:s}=Ge(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ge(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ge(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Ge(this.Dh|0,this.Dl|0,u|0,f|0),{h:l,l:d}=Ge(this.Eh|0,this.El|0,l|0,d|0),{h,l:m}=Ge(this.Fh|0,this.Fl|0,h|0,m|0),{h:p,l:b}=Ge(this.Gh|0,this.Gl|0,p|0,b|0),{h:v,l:x}=Ge(this.Hh|0,this.Hl|0,v|0,x|0),this.set(r,s,i,o,a,c,u,f,l,d,h,m,p,b,v,x)}roundClean(){lt(ct,ut)}destroy(){lt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class zp extends Ju{constructor(){super(48),this.Ah=te[0]|0,this.Al=te[1]|0,this.Bh=te[2]|0,this.Bl=te[3]|0,this.Ch=te[4]|0,this.Cl=te[5]|0,this.Dh=te[6]|0,this.Dl=te[7]|0,this.Eh=te[8]|0,this.El=te[9]|0,this.Fh=te[10]|0,this.Fl=te[11]|0,this.Gh=te[12]|0,this.Gl=te[13]|0,this.Hh=te[14]|0,this.Hl=te[15]|0}}const bo=Nr(()=>new Np),jp=Nr(()=>new Ju),Lp=Nr(()=>new zp),Dp=bo;function qp(e,t){return Dp(Re(e,{strict:!1})?on(e):e)}function Hp(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=qp(t);return s.set([n],0),r==="bytes"?s:W(s)}function Xu(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(Hp({commitment:i,to:r,version:n}));return s}const $a=6,ef=32,mo=4096,tf=ef*mo,Ba=tf*$a-1-1*mo*$a,nf=1;class Gp extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class rf extends S{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Vp extends S{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Wp extends S{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${nf}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Kp(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Ae(e.data):e.data,r=G(n);if(!r)throw new rf;if(r>Ba)throw new Gp({maxSize:Ba,size:r});const s=[];let i=!0,o=0;for(;i;){const a=zi(new Uint8Array(tf));let c=0;for(;c<mo;){const u=n.slice(o,o+(ef-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>W(a.bytes))}function sf(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Kp({data:t,to:r}),i=e.commitments??ho({blobs:s,kzg:n,to:r}),o=e.proofs??po({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function of(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Yl({transaction:e})}async function yo(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ve(t)}const Qp=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Oa=new Map;async function af(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=Qp,type:f}=t,l=n&&ae(n),d={...t,...l?{from:l?.address}:{}};let h;async function m(){return h||(h=await _(e,je,"getBlock")({blockTag:"latest"}),h)}let p;async function b(){return p||(s?s.id:typeof t.chainId<"u"?t.chainId:(p=await _(e,yo,"getChainId")({}),p))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){const v=await b();d.nonce=await c.consume({address:l.address,chainId:v,client:e})}else d.nonce=await _(e,lo,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const v=ho({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const x=Xu({commitments:v,to:"hex"});d.blobVersionedHashes=x}if(u.includes("sidecars")){const x=po({blobs:r,commitments:v,kzg:o}),g=sf({blobs:r,commitments:v,proofs:x,to:"hex"});d.sidecars=g}}if(u.includes("chainId")&&(d.chainId=await b()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{d.type=of(d)}catch{let v=Oa.get(e.uid);typeof v>"u"&&(v=typeof(await m())?.baseFeePerGas=="bigint",Oa.set(e.uid,v)),d.type=v?"eip1559":"legacy"}if(u.includes("fees"))if(d.type!=="legacy"&&d.type!=="eip2930"){if(typeof d.maxFeePerGas>"u"||typeof d.maxPriorityFeePerGas>"u"){const v=await m(),{maxFeePerGas:x,maxPriorityFeePerGas:g}=await fi(e,{block:v,chain:s,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new Sp({maxPriorityFeePerGas:g});d.maxPriorityFeePerGas=g,d.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new co;if(typeof t.gasPrice>"u"){const v=await m(),{gasPrice:x}=await fi(e,{block:v,chain:s,request:d,type:"legacy"});d.gasPrice=x}}return u.includes("gas")&&typeof i>"u"&&(d.gas=await _(e,go,"estimateGas")({...d,account:l,prepare:l?.type==="local"?[]:["blobVersionedHashes"]})),nr(d),delete d.parameters,d}async function go(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?ae(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:o,authorizationList:a,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:l,data:d,gas:h,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:x,value:g,stateOverride:w,...y}=r?await af(e,{...t,parameters:i}):t,E=(typeof f=="bigint"?A(f):void 0)||l,I=io(w),C=await(async()=>{if(y.to)return y.to;if(a&&a.length>0)return await Vu({authorization:a[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`")})})();nr(t);const $=e.chain?.formatters?.transactionRequest?.format,F=($||Qr)({...no(y,{format:$}),account:s,accessList:o,authorizationList:a,blobs:c,blobVersionedHashes:u,data:d,gas:h,gasPrice:m,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:x,to:C,value:g},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:I?[F,E??e.experimental_blockTag??"latest",I]:E?[F,E]:[F]}))}catch(o){throw Ip(o,{...t,account:s,chain:e.chain})}}async function Zp(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=_e({abi:n,args:s,functionName:i});try{return await _(e,go,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?ae(a.account):void 0;throw sn(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f?.address})}}async function cf(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?A(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function Yp(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Jp=new Map,Xp=new Map;function eb(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,Jp),r=t(e,Xp);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function tb(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=eb(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const nb=e=>`blockNumber.${e}`;async function ir(e,{cacheTime:t=e.cacheTime}={}){const n=await tb(()=>e.request({method:"eth_blockNumber"}),{cacheKey:nb(e.uid),cacheTime:t});return BigInt(n)}async function rb(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?A(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ve(i)}async function di(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?A(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}function un(e,t){if(!K(e,{strict:!1}))throw new re({address:e});if(!K(t,{strict:!1}))throw new re({address:t});return e.toLowerCase()===t.toLowerCase()}const Ta="/docs/contract/decodeEventLog";function wo(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new Rd({docsPath:Ta});const c=t.find(p=>p.type==="event"&&o===jr(ke(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Cc(o,{docsPath:Ta});const{name:u,inputs:f}=c,l=f?.some(p=>!("name"in p&&p.name)),d=l?[]:{},h=f.map((p,b)=>[p,b]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[b,v]=h[p],x=a[p];if(!x)throw new Fr({abiItem:c,param:b});d[l?v:b.name||v]=sb({param:b,value:x})}const m=f.filter(p=>!("indexed"in p&&p.indexed));if(m.length>0){if(n&&n!=="0x")try{const p=Qn(m,n);if(p)if(l)for(let b=0;b<f.length;b++)d[b]=d[b]??p.shift();else for(let b=0;b<m.length;b++)d[m[b].name]=p[b]}catch(p){if(i)throw p instanceof Ec||p instanceof zc?new Pn({abiItem:c,data:n,params:m,size:G(n)}):p}else if(i)throw new Pn({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(d).length>0?d:void 0}}function sb({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Qn([e],t)||[])[0]}function vo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{try{const a=t.find(u=>u.type==="event"&&o.topics[0]===jr(u));if(!a)return null;const c=wo({...o,abi:[a],strict:s});return i&&!i.includes(c.eventName)||!ib({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...o}}catch(a){let c,u;if(a instanceof Cc)return null;if(a instanceof Pn||a instanceof Fr){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function ib(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?un(o,a):i.type==="string"||i.type==="bytes"?J(on(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function et(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function xo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,f=o??(i?[i]:void 0);let l=[];f&&(l=[f.flatMap(p=>sr({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(l=l[0]));let d;n?d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):d=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?A(r):r,toBlock:typeof s=="bigint"?A(s):s}]});const h=d.map(m=>et(m));return f?vo({abi:f,args:a,logs:h,strict:u}):h}async function uf(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,f=o?Ut({abi:n,name:o}):void 0,l=f?void 0:n.filter(d=>d.type==="event");return _(e,xo,"getLogs")({address:r,args:s,blockHash:i,event:f,events:l,fromBlock:a,toBlock:c,strict:u})}class ob extends S{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ab(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,f,l]=await _(e,$e,"readContract")({abi:cb,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:l,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new ob({address:n}):o}}const cb=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function ub(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function fb(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?A(n):void 0,o=await e.request({method:"eth_feeHistory",params:[A(t),i||r,s]},{dedupe:!!i});return ub(o)}async function Xr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>et(i));return!("abi"in t)||!t.abi?s:vo({abi:t.abi,logs:s,strict:n})}async function db(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>et(i));return t.abi?vo({abi:t.abi,logs:s,strict:n}):s}function U6(e,t){if(e.length!==t.length)throw new Pc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(ff(s,i))}return he(n)}function ff(e,t,n=!1){if(e==="address"){const o=t;if(!K(o))throw new re({address:o});return Ze(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Pt(t);if(e==="bytes")return t;if(e==="bool")return Ze(Ni(t),{size:n?32:1});const r=e.match(ji);if(r){const[o,a,c="256"]=r,u=Number.parseInt(c,10)/8;return A(t,{size:n?32:u,signed:a==="int"})}const s=e.match(qc);if(s){const[o,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Ac({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return Ze(t,{dir:"right",size:n?32:null})}const i=e.match(R0);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let u=0;u<t.length;u++)c.push(ff(a,t[u],!0));return c.length===0?"0x":he(c)}throw new zd(e)}function lb(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!K(s))throw new re({address:s});if(r<0)throw new Lr({chainId:r})}Eo(e)}function hb(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new rf;for(const n of t){const r=G(n),s=ve(Ct(n,0,1));if(r!==32)throw new Vp({hash:n,size:r});if(s!==nf)throw new Wp({hash:n,version:s})}}Eo(e)}function Eo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Lr({chainId:t});if(s&&!K(s))throw new re({address:s});if(r&&r>Zr)throw new Tt({maxFeePerGas:r});if(n&&r&&n>r)throw new Gn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function pb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Lr({chainId:t});if(i&&!K(i))throw new re({address:i});if(n||s)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Zr)throw new Tt({maxFeePerGas:r})}function bb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!K(i))throw new re({address:i});if(typeof t<"u"&&t<=0)throw new Lr({chainId:t});if(n||s)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Zr)throw new Tt({maxFeePerGas:r})}function es(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new Jl({storageKey:s[i]});if(!K(r,{strict:!1}))throw new re({address:r});t.push([r,s])}return t}function mb(e,t){const n=of(e);return n==="eip1559"?wb(e,t):n==="eip2930"?vb(e,t):n==="eip4844"?gb(e,t):n==="eip7702"?yb(e,t):xb(e,t)}function yb(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=e;lb(e);const d=es(f),h=Eb(n);return he(["0x04",ht([A(r),i?A(i):"0x",u?A(u):"0x",c?A(c):"0x",s?A(s):"0x",o??"0x",a?A(a):"0x",l??"0x",d,h,...or(e,t)])])}function gb(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:l}=e;hb(e);let d=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof h>"u")){const g=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(P=>W(P)),w=e.kzg,y=ho({blobs:g,kzg:w});if(typeof d>"u"&&(d=Xu({commitments:y})),typeof h>"u"){const P=po({blobs:g,commitments:y,kzg:w});h=sf({blobs:g,commitments:y,proofs:P})}}const m=es(f),p=[A(n),s?A(s):"0x",u?A(u):"0x",c?A(c):"0x",r?A(r):"0x",i??"0x",o?A(o):"0x",l??"0x",m,a?A(a):"0x",d??[],...or(e,t)],b=[],v=[],x=[];if(h)for(let g=0;g<h.length;g++){const{blob:w,commitment:y,proof:P}=h[g];b.push(w),v.push(y),x.push(P)}return he(["0x03",ht(h?[p,b,v,x]:p)])}function wb(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;Eo(e);const l=es(u),d=[A(n),s?A(s):"0x",c?A(c):"0x",a?A(a):"0x",r?A(r):"0x",i??"0x",o?A(o):"0x",f??"0x",l,...or(e,t)];return he(["0x02",ht(d)])}function vb(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=e;pb(e);const f=es(c),l=[A(n),i?A(i):"0x",u?A(u):"0x",r?A(r):"0x",o??"0x",a?A(a):"0x",s??"0x",f,...or(e,t)];return he(["0x01",ht(l)])}function xb(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;bb(e);let u=[i?A(i):"0x",c?A(c):"0x",r?A(r):"0x",o??"0x",a?A(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Zl({v:t.v});return h})(),l=de(t.r),d=de(t.s);u=[...u,A(f),l==="0x00"?"0x":l,d==="0x00"?"0x":d]}else n>0&&(u=[...u,A(n),"0x","0x"]);return ht(u)}function or(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=de(n.r),o=de(n.s);return[typeof s=="number"?s?A(1):"0x":r===0n?"0x":r===1n?A(1):r===27n?"0x":A(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function Eb(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?le(r):"0x",o,s?le(s):"0x",...or({},i)])}return t}async function Pb({address:e,authorization:t,signature:n}){return un(X(e),await Vu({authorization:t,signature:n}))}const lr=new _r(8192);function Ib(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(lr.get(n))return lr.get(n);const r=e().finally(()=>lr.delete(n));return lr.set(n,r),r}async function $r(e){return new Promise(t=>setTimeout(t,e))}function kt(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await $r(f),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function Cb(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(i?.exclude?.includes(u))throw new mt(new Error("method not supported"),{method:u});if(i?.include&&!i.include.includes(u))throw new mt(new Error("method not supported"),{method:u});const f=s?Pt(`${c}.${V(n)}`):void 0;return Ib(()=>kt(async()=>{try{return await e(n)}catch(l){const d=l;switch(d.code){case Sn.code:throw new Sn(d);case An.code:throw new An(d);case $n.code:throw new $n(d,{method:n.method});case Bn.code:throw new Bn(d);case St.code:throw new St(d);case At.code:throw new At(d);case On.code:throw new On(d);case Le.code:throw new Le(d);case nn.code:throw new nn(d);case mt.code:throw new mt(d,{method:n.method});case rn.code:throw new rn(d);case Tn.code:throw new Tn(d);case q.code:throw new q(d);case kn.code:throw new kn(d);case Rn.code:throw new Rn(d);case Fn.code:throw new Fn(d);case Mn.code:throw new Mn(d);case we.code:throw new we(d);case Nn.code:throw new Nn(d);case _n.code:throw new _n(d);case Un.code:throw new Un(d);case zn.code:throw new zn(d);case jn.code:throw new jn(d);case Ln.code:throw new Ln(d);case Dn.code:throw new Dn(d);case 5e3:throw new q(d);default:throw l instanceof S?l:new fh(d)}}},{delay:({count:l,error:d})=>{if(d&&d instanceof xt){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<l)*o},retryCount:a,shouldRetry:({error:l})=>Sb(l)}),{enabled:s,id:f})}}function Sb(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===rn.code||e.code===St.code:e instanceof xt&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class Ab extends S{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(a=>`    ${Yn(a)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class $b extends S{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Yn(n)}`,`Response: ${V(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Bb extends S{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Ob="0x556f1830",df={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Tb(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=ou({data:r,abi:[df]}),[o,a,c,u,f]=i,{ccipRead:l}=e,d=l&&typeof l?.request=="function"?l.request:lf;try{if(!un(s,o))throw new Bb({sender:o,to:s});const h=a.includes(Jn)?await lu({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:m}=await rr(e,{blockNumber:t,blockTag:n,data:Fe([u,nt([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return m}catch(h){throw new Ab({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:a})}}async function lf({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const i=n[s],o=i.includes("{data}")?"GET":"POST",a=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new xt({body:a,details:f?.error?V(f.error):u.statusText,headers:u.headers,status:u.status,url:i});continue}if(!Re(f)){r=new $b({result:f,url:i});continue}return f}catch(u){r=new xt({body:a,details:u.message,url:i})}}throw r}const kb=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:lf,offchainLookup:Tb,offchainLookupAbiItem:df,offchainLookupSignature:Ob},Symbol.toStringTag,{value:"Module"}));function Pe(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const hf={"0x0":"reverted","0x1":"success"};function Po(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>et(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ve(e.transactionIndex):null,status:e.status?hf[e.status]:null,type:e.type?Ku[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Rb=ro("transactionReceipt",Po);function z6(e){const{source:t}=e,n=new Map,r=new _r(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a}),f=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const l=await f;return await t.set({address:o,chainId:a},l),r.set(u,l),l},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const d=await t.get({address:o,chainId:a,client:c}),h=r.get(u)??0;return h>0&&d<=h?h+1:(r.delete(u),d)}finally{this.reset({address:o,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}function ts(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function Fb(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ka=Fb();function Mb(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:l}=c;try{const d=await ts(async({signal:m})=>{const p={...c,body:Array.isArray(r)?V(r.map(g=>({jsonrpc:"2.0",id:g.id??ka.take(),...g}))):V({jsonrpc:"2.0",id:r.id??ka.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(a>0?m:null)},b=new Request(e,p),v=await i?.(b,p)??{...p,url:e};return await s(v.url??e,v)},{errorInstance:new ba({body:r,url:e}),timeout:a,signal:!0});o&&await o(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(m){if(d.ok)throw m;h={error:h}}}if(!d.ok)throw new xt({body:r,details:V(h.error)||d.statusText,headers:d.headers,status:d.status,url:e});return h}catch(d){throw d instanceof xt||d instanceof ba?d:new xt({body:r,cause:d,url:e})}}}}const Nb=`Ethereum Signed Message:
`;function _b(e){const t=typeof e=="string"?Pt(e):typeof e.raw=="string"?e.raw:W(e.raw),n=Pt(`${Nb}${G(t)}`);return Fe([n,t])}function pf(e,t){return J(_b(e),t)}class Ub extends S{constructor({domain:t}){super(`Invalid domain "${V(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class zb extends S{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class jb extends S{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Lb(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:f}=c,l=a[u],d=f.match(ji);if(d&&(typeof l=="number"||typeof l=="bigint")){const[p,b,v]=d;A(l,{signed:b==="int",size:Number.parseInt(v,10)/8})}if(f==="address"&&typeof l=="string"&&!K(l))throw new re({address:l});const h=f.match(qc);if(h){const[p,b]=h;if(b&&G(l)!==Number.parseInt(b,10))throw new Ac({expectedSize:Number.parseInt(b,10),givenSize:G(l)})}const m=s[f];m&&(qb(f),i(m,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Ub({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new zb({primaryType:r,types:s})}function Db({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function qb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new jb({type:e})}function Hb(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Db({domain:t}),...e.types};Lb({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Gb({domain:t,types:s})),r!=="EIP712Domain"&&i.push(bf({data:n,primaryType:r,types:s})),J(Fe(i))}function Gb({domain:e,types:t}){return bf({data:e,primaryType:"EIP712Domain",types:t})}function bf({data:e,primaryType:t,types:n}){const r=mf({data:e,primaryType:t,types:n});return J(r)}function mf({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Vb({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=gf({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return nt(r,s)}function Vb({primaryType:e,types:t}){const n=le(Wb({primaryType:e,types:t}));return J(n)}function Wb({primaryType:e,types:t}){let n="";const r=yf({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function yf({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])yf({primaryType:i.type,types:t},n);return n}function gf({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},J(mf({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},J(r)];if(n==="string")return[{type:"bytes32"},J(le(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>gf({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},J(nt(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const Kb="0x6492649264926492649264926492649264926492649264926492649264926492";class Qb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Zb={checksum:new Qb(8192)},Ps=Zb.checksum;function wf(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Uc(Sh(e));return n==="Bytes"?r:Ne(r)}const Yb=/^0x[a-fA-F0-9]{40}$/;function ns(e,t={}){const{strict:n=!0}=t;if(!Yb.test(e))throw new Ra({address:e,cause:new Jb});if(n){if(e.toLowerCase()===e)return;if(vf(e)!==e)throw new Ra({address:e,cause:new Xb})}}function vf(e){if(Ps.has(e))return Ps.get(e);ns(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=wf($h(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Ps.set(e,s),s}function li(e,t={}){const{strict:n=!0}=t??{};try{return ns(e,{strict:n}),!0}catch{return!1}}class Ra extends j{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Jb extends j{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Xb extends j{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const e1=/^(.*)\[([0-9]*)\]$/,t1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Fa=2n**256n-1n;function Xt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=So(t.type);if(i){const[o,a]=i;return r1(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return a1(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return n1(e,{checksum:r});if(t.type==="bool")return s1(e);if(t.type.startsWith("bytes"))return i1(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return o1(e,t);if(t.type==="string")return c1(e,{staticPosition:s});throw new $o(t.type)}const Ma=32,hi=32;function n1(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?vf(i):i)(Ne(Oh(r,-20))),32]}function r1(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=Je(e.readBytes(hi)),u=i+c,f=u+Ma;e.setPosition(u);const l=Je(e.readBytes(Ma)),d=Vn(t);let h=0;const m=[];for(let p=0;p<l;++p){e.setPosition(f+(d?p*32:h));const[b,v]=Xt(e,t,{checksumAddress:r,staticPosition:f});h+=v,m.push(b)}return e.setPosition(i+32),[m,32]}if(Vn(t)){const c=Je(e.readBytes(hi)),u=i+c,f=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[d]=Xt(e,t,{checksumAddress:r,staticPosition:u});f.push(d)}return e.setPosition(i+32),[f,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Xt(e,t,{checksumAddress:r,staticPosition:i+o});o+=f,a.push(u)}return[a,o]}function s1(e){return[kh(e.readBytes(32),{size:32}),32]}function i1(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Je(e.readBytes(32));e.setPosition(n+o);const a=Je(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Ne(c),32]}return[Ne(e.readBytes(Number.parseInt(s,10),32)),32]}function o1(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Th(s,{signed:n}):Je(s,{signed:n}),32]}function a1(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(Vn(t)){const c=Je(e.readBytes(hi)),u=s+c;for(let f=0;f<t.components.length;++f){const l=t.components[f];e.setPosition(u+a);const[d,h]=Xt(e,l,{checksumAddress:r,staticPosition:u});a+=h,o[i?f:l?.name]=d}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,l]=Xt(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u?.name]=f,a+=l}return[o,a]}function c1(e,{staticPosition:t}){const n=Je(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Je(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Rh(Pu(i));return e.setPosition(t+32),[o,32]}function u1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Io({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Io({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=So(r.type);if(s){const[i,o]=s;return d1(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return m1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return f1(n,{checksum:e});if(r.type==="bool")return h1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=xf.exec(r.type)??[];return p1(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return l1(n,{type:r.type});if(r.type==="string")return b1(n);throw new $o(r.type)}function Co(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=xe(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(ie(t+s,{size:32})),r.push(a),s+=xe(a)):n.push(a)}return Me(...n,...r)}function f1(e,t){const{checksum:n=!1}=t;return ns(e,{strict:n}),{dynamic:!1,encoded:Bt(e.toLowerCase())}}function d1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new C1(e);if(!i&&e.length!==r)throw new I1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=Io({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=Co(a);if(i){const u=ie(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Me(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Me(...a.map(({encoded:c})=>c))}}function l1(e,{type:t}){const[,n]=t.split("bytes"),r=xe(e);if(!n){let s=e;return r%32!==0&&(s=Ot(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Me(Bt(ie(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Pf({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ot(e)}}function h1(e){if(typeof e!="boolean")throw new j(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Bt(Iu(e))}}function p1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Au({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ie(e,{size:32,signed:t})}}function b1(e){const t=Ji(e),n=Math.ceil(xe(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ot(De(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Me(Ot(ie(xe(t),{size:32})),...r)}}function m1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=Io({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Co(i):Me(...i.map(({encoded:o})=>o))}}function So(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Vn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Vn);const n=So(e.type);return!!(n&&Vn({...e,type:n[1]}))}const y1={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new v1({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new w1({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Na({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Na({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function g1(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(y1);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Na extends j{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class w1 extends j{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class v1 extends j{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function x1(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?Eu(t):t,o=g1(i);if(Qt(i)===0&&e.length>0)throw new P1;if(Qt(i)&&Qt(i)<32)throw new E1({data:typeof t=="string"?t:Ne(t),parameters:e,size:Qt(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(a);const[l,d]=Xt(o,f,{checksumAddress:s,staticPosition:0});a+=d,r==="Array"?c.push(l):c[f.name??u]=l}return c}function Ao(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new If({expectedLength:e.length,givenLength:t.length});const s=u1({checksumAddress:r,parameters:e,values:t}),i=Co(s);return i.length===0?"0x":i}function pi(e,t){if(e.length!==t.length)throw new If({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(pi.encode(s,i))}return Me(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return ns(c),Bt(c.toLowerCase(),s?32:0)}if(n==="string")return Ji(r);if(n==="bytes")return r;if(n==="bool")return Bt(Iu(r),s?32:1);const i=n.match(xf);if(i){const[c,u,f="256"]=i,l=Number.parseInt(f,10)/8;return ie(r,{size:s?32:l,signed:u==="int"})}const o=n.match(t1);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Pf({expectedSize:Number.parseInt(u,10),value:r});return Ot(r,s?32:0)}const a=n.match(e1);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let l=0;l<r.length;l++)f.push(t(u,r[l],!0));return f.length===0?"0x":Me(...f)}throw new $o(n)}e.encode=t})(pi||(pi={}));function Ef(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?da(e):e}class E1 extends j{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Kt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class P1 extends j{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class I1 extends j{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Pf extends j{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${xe(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class If extends j{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class C1 extends j{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class $o extends j{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Cf extends _i{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,u0(t);const r=Mr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),lt(i)}update(t){return tn(this),this.iHash.update(t),this}digestInto(t){tn(this),It(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Sf=(e,t,n)=>new Cf(e,t).update(n).digest();Sf.create=(e,t)=>new Cf(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fe=BigInt(0),oe=BigInt(1),gt=BigInt(2),S1=BigInt(3),Af=BigInt(4),$f=BigInt(5),Bf=BigInt(8);function ue(e,t){const n=e%t;return n>=fe?n:t+n}function Ie(e,t,n){let r=e;for(;t-- >fe;)r*=r,r%=n;return r}function bi(e,t){if(e===fe)throw new Error("invert: expected non-zero number");if(t<=fe)throw new Error("invert: expected positive modulus, got "+t);let n=ue(e,t),r=t,s=fe,i=oe;for(;n!==fe;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==oe)throw new Error("invert: does not exist");return ue(s,t)}function Of(e,t){const n=(e.ORDER+oe)/Af,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function A1(e,t){const n=(e.ORDER-$f)/Bf,r=e.mul(t,gt),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,gt),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function $1(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-oe,n=0;for(;t%gt===fe;)t/=gt,n++;let r=gt;const s=fn(e);for(;_a(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Of;let i=s.pow(r,t);const o=(t+oe)/gt;return function(c,u){if(c.is0(u))return u;if(_a(c,u)!==1)throw new Error("Cannot find square root");let f=n,l=c.mul(c.ONE,i),d=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let m=1,p=c.sqr(d);for(;!c.eql(p,c.ONE);)if(m++,p=c.sqr(p),m===f)throw new Error("Cannot find square root");const b=oe<<BigInt(f-m-1),v=c.pow(l,b);f=m,l=c.sqr(v),d=c.mul(d,l),h=c.mul(h,v)}return h}}function B1(e){return e%Af===S1?Of:e%Bf===$f?A1:$1(e)}const O1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function T1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=O1.reduce((r,s)=>(r[s]="function",r),t);return Vr(e,n)}function k1(e,t,n){if(n<fe)throw new Error("invalid exponent, negatives unsupported");if(n===fe)return e.ONE;if(n===oe)return t;let r=e.ONE,s=t;for(;n>fe;)n&oe&&(r=e.mul(r,s)),s=e.sqr(s),n>>=oe;return r}function Tf(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function _a(e,t){const n=(e.ORDER-oe)/gt,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function kf(e,t){t!==void 0&&In(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function fn(e,t,n=!1,r={}){if(e<=fe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=kf(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Gr(s),ZERO:fe,ONE:oe,create:c=>ue(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return fe<=c&&c<e},is0:c=>c===fe,isOdd:c=>(c&oe)===oe,neg:c=>ue(-c,e),eql:(c,u)=>c===u,sqr:c=>ue(c*c,e),add:(c,u)=>ue(c+u,e),sub:(c,u)=>ue(c-u,e),mul:(c,u)=>ue(c*u,e),pow:(c,u)=>k1(a,c,u),div:(c,u)=>ue(c*bi(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>bi(c,e),sqrt:r.sqrt||(c=>(o||(o=B1(e)),o(a,c))),toBytes:c=>n?yu(c,i):er(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?mu(c):Et(c)},invertBatch:c=>Tf(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Rf(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ff(e){const t=Rf(e);return t+Math.ceil(t/2)}function R1(e,t,n=!1){const r=e.length,s=Rf(t),i=Ff(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?mu(e):Et(e),a=ue(o,t-oe)+oe;return n?yu(a,s):er(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ua=BigInt(0),mi=BigInt(1);function Is(e,t){const n=t.negate();return e?n:t}function Mf(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Cs(e,t){Mf(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Gr(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function za(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=mi);const u=t*r,f=u+Math.abs(a)-1,l=a===0,d=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:u}}function F1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function M1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ss=new WeakMap,Nf=new WeakMap;function As(e){return Nf.get(e)||1}function N1(e,t){return{constTimeNegate:Is,hasPrecomputes(n){return As(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>Ua;)r&mi&&(s=s.add(i)),i=i.double(),r>>=mi;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Cs(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=Cs(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:l,isNeg:d,isNegF:h,offsetF:m}=za(s,c,a);s=u,l?o=o.add(Is(h,r[m])):i=i.add(Is(d,r[f]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=Cs(n,t);for(let a=0;a<o.windows&&s!==Ua;a++){const{nextN:c,offset:u,isZero:f,isNeg:l}=za(s,a,o);if(s=c,!f){const d=r[u];i=i.add(l?d.negate():d)}}return i},getPrecomputes(n,r,s){let i=Ss.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Ss.set(r,s(i))),i},wNAFCached(n,r,s){const i=As(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=As(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){Mf(r,t),Nf.set(n,r),Ss.delete(n)}}}function _1(e,t,n,r){F1(n,e),M1(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=bh(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Gr(c),f=new Array(Number(u)+1).fill(o),l=Math.floor((t.BITS-1)/c)*c;let d=o;for(let h=l;h>=0;h-=c){f.fill(o);for(let p=0;p<i;p++){const b=r[p],v=Number(b>>BigInt(h)&u);f[v]=f[v].add(n[p])}let m=o;for(let p=f.length-1,b=o;p>0;p--)b=b.add(f[p]),m=m.add(b);if(d=d.add(m),h!==0)for(let p=0;p<c;p++)d=d.double()}return d}function _f(e){return T1(e.Fp),Vr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kf(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ja(e){e.lowS!==void 0&&qn("lowS",e.lowS),e.prehash!==void 0&&qn("prehash",e.prehash)}function U1(e){const t=_f(e);Vr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class z1 extends Error{constructor(t=""){super(t)}}const Ke={Err:z1,_tlv:{encode:(e,t)=>{const{Err:n}=Ke;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=dr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?dr(s.length/2|128):"";return dr(e)+i+s+t},decode(e,t){const{Err:n}=Ke;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ke;if(e<Qe)throw new t("integer: negative integers are not allowed");let n=dr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ke;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Et(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ke,s=Ce("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ke,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function $s(e,t){return Hn(er(e,t))}const Qe=BigInt(0),Z=BigInt(1);BigInt(2);const Bs=BigInt(3),j1=BigInt(4);function L1(e){const t=U1(e),{Fp:n}=t,r=fn(t.n,t.nBitLength),s=t.toBytes||((g,w,y)=>{const P=w.toAffine();return Ar(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=t.fromBytes||(g=>{const w=g.subarray(1),y=n.fromBytes(w.subarray(0,n.BYTES)),P=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:y,y:P}});function o(g){const{a:w,b:y}=t,P=n.sqr(g),E=n.mul(P,g);return n.add(n.add(E,n.mul(g,w)),y)}function a(g,w){const y=n.sqr(w),P=o(g);return n.eql(y,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Bs),j1),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(g){return Yi(g,Z,t.n)}function l(g){const{allowedPrivateKeyLengths:w,nByteLength:y,wrapPrivateKey:P,n:E}=t;if(w&&typeof g!="bigint"){if(Xn(g)&&(g=Hn(g)),typeof g!="string"||!w.includes(g.length))throw new Error("invalid private key");g=g.padStart(y*2,"0")}let I;try{I=typeof g=="bigint"?g:Et(Ce("private key",g,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof g)}return P&&(I=ue(I,E)),Jt("private key",I,Z,E),I}function d(g){if(!(g instanceof p))throw new Error("ProjectivePoint expected")}const h=wa((g,w)=>{const{px:y,py:P,pz:E}=g;if(n.eql(E,n.ONE))return{x:y,y:P};const I=g.is0();w==null&&(w=I?n.ONE:n.inv(E));const C=n.mul(y,w),$=n.mul(P,w),B=n.mul(E,w);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:C,y:$}}),m=wa(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:w,y}=g.toAffine();if(!n.isValid(w)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!a(w,y))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(w,y,P){if(w==null||!n.isValid(w))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=w,this.py=y,this.pz=P,Object.freeze(this)}static fromAffine(w){const{x:y,y:P}=w||{};if(!w||!n.isValid(y)||!n.isValid(P))throw new Error("invalid affine point");if(w instanceof p)throw new Error("projective point not allowed");const E=I=>n.eql(I,n.ZERO);return E(y)&&E(P)?p.ZERO:new p(y,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const y=Tf(n,w.map(P=>P.pz));return w.map((P,E)=>P.toAffine(y[E])).map(p.fromAffine)}static fromHex(w){const y=p.fromAffine(i(Ce("pointHex",w)));return y.assertValidity(),y}static fromPrivateKey(w){return p.BASE.multiply(l(w))}static msm(w,y){return _1(p,r,w,y)}_setWindowSize(w){x.setWindowSize(this,w)}assertValidity(){m(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);const{px:y,py:P,pz:E}=this,{px:I,py:C,pz:$}=w,B=n.eql(n.mul(y,$),n.mul(I,E)),F=n.eql(n.mul(P,$),n.mul(C,E));return B&&F}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:y}=t,P=n.mul(y,Bs),{px:E,py:I,pz:C}=this;let $=n.ZERO,B=n.ZERO,F=n.ZERO,R=n.mul(E,E),z=n.mul(I,I),T=n.mul(C,C),O=n.mul(E,I);return O=n.add(O,O),F=n.mul(E,C),F=n.add(F,F),$=n.mul(w,F),B=n.mul(P,T),B=n.add($,B),$=n.sub(z,B),B=n.add(z,B),B=n.mul($,B),$=n.mul(O,$),F=n.mul(P,F),T=n.mul(w,T),O=n.sub(R,T),O=n.mul(w,O),O=n.add(O,F),F=n.add(R,R),R=n.add(F,R),R=n.add(R,T),R=n.mul(R,O),B=n.add(B,R),T=n.mul(I,C),T=n.add(T,T),R=n.mul(T,O),$=n.sub($,R),F=n.mul(T,z),F=n.add(F,F),F=n.add(F,F),new p($,B,F)}add(w){d(w);const{px:y,py:P,pz:E}=this,{px:I,py:C,pz:$}=w;let B=n.ZERO,F=n.ZERO,R=n.ZERO;const z=t.a,T=n.mul(t.b,Bs);let O=n.mul(y,I),M=n.mul(P,C),k=n.mul(E,$),N=n.add(y,P),U=n.add(I,C);N=n.mul(N,U),U=n.add(O,M),N=n.sub(N,U),U=n.add(y,E);let L=n.add(I,$);return U=n.mul(U,L),L=n.add(O,k),U=n.sub(U,L),L=n.add(P,E),B=n.add(C,$),L=n.mul(L,B),B=n.add(M,k),L=n.sub(L,B),R=n.mul(z,U),B=n.mul(T,k),R=n.add(B,R),B=n.sub(M,R),R=n.add(M,R),F=n.mul(B,R),M=n.add(O,O),M=n.add(M,O),k=n.mul(z,k),U=n.mul(T,U),M=n.add(M,k),k=n.sub(O,k),k=n.mul(z,k),U=n.add(U,k),O=n.mul(M,U),F=n.add(F,O),O=n.mul(L,U),B=n.mul(N,B),B=n.sub(B,O),O=n.mul(N,M),R=n.mul(L,R),R=n.add(R,O),new p(B,F,R)}subtract(w){return this.add(w.negate())}is0(){return this.equals(p.ZERO)}wNAF(w){return x.wNAFCached(this,w,p.normalizeZ)}multiplyUnsafe(w){const{endo:y,n:P}=t;Jt("scalar",w,Qe,P);const E=p.ZERO;if(w===Qe)return E;if(this.is0()||w===Z)return this;if(!y||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,w,p.normalizeZ);let{k1neg:I,k1:C,k2neg:$,k2:B}=y.splitScalar(w),F=E,R=E,z=this;for(;C>Qe||B>Qe;)C&Z&&(F=F.add(z)),B&Z&&(R=R.add(z)),z=z.double(),C>>=Z,B>>=Z;return I&&(F=F.negate()),$&&(R=R.negate()),R=new p(n.mul(R.px,y.beta),R.py,R.pz),F.add(R)}multiply(w){const{endo:y,n:P}=t;Jt("scalar",w,Z,P);let E,I;if(y){const{k1neg:C,k1:$,k2neg:B,k2:F}=y.splitScalar(w);let{p:R,f:z}=this.wNAF($),{p:T,f:O}=this.wNAF(F);R=x.constTimeNegate(C,R),T=x.constTimeNegate(B,T),T=new p(n.mul(T.px,y.beta),T.py,T.pz),E=R.add(T),I=z.add(O)}else{const{p:C,f:$}=this.wNAF(w);E=C,I=$}return p.normalizeZ([E,I])[0]}multiplyAndAddUnsafe(w,y,P){const E=p.BASE,I=($,B)=>B===Qe||B===Z||!$.equals(E)?$.multiplyUnsafe(B):$.multiply(B),C=I(this,y).add(I(w,P));return C.is0()?void 0:C}toAffine(w){return h(this,w)}isTorsionFree(){const{h:w,isTorsionFree:y}=t;if(w===Z)return!0;if(y)return y(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:y}=t;return w===Z?this:y?y(p,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return qn("isCompressed",w),this.assertValidity(),s(p,this,w)}toHex(w=!0){return qn("isCompressed",w),Hn(this.toRawBytes(w))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:v}=t,x=N1(p,b?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:f}}function D1(e){const t=_f(e);return Vr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function q1(e){const t=D1(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(T){return ue(T,r)}function u(T){return bi(T,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=L1({...t,toBytes(T,O,M){const k=O.toAffine(),N=n.toBytes(k.x),U=Ar;return qn("isCompressed",M),M?U(Uint8Array.from([O.hasEvenY()?2:3]),N):U(Uint8Array.from([4]),N,n.toBytes(k.y))},fromBytes(T){const O=T.length,M=T[0],k=T.subarray(1);if(O===o&&(M===2||M===3)){const N=Et(k);if(!Yi(N,Z,n.ORDER))throw new Error("Point is not on curve");const U=d(N);let L;try{L=n.sqrt(U)}catch(ce){const ee=ce instanceof Error?": "+ce.message:"";throw new Error("Point is not on curve"+ee)}const H=(L&Z)===Z;return(M&1)===1!==H&&(L=n.neg(L)),{x:N,y:L}}else if(O===a&&M===4){const N=n.fromBytes(k.subarray(0,n.BYTES)),U=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:N,y:U}}else{const N=o,U=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+U+", got "+O)}}});function m(T){const O=r>>Z;return T>O}function p(T){return m(T)?c(-T):T}const b=(T,O,M)=>Et(T.slice(O,M));class v{constructor(O,M,k){Jt("r",O,Z,r),Jt("s",M,Z,r),this.r=O,this.s=M,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(O){const M=s;return O=Ce("compactSignature",O,M*2),new v(b(O,0,M),b(O,M,2*M))}static fromDER(O){const{r:M,s:k}=Ke.toSig(Ce("DER",O));return new v(M,k)}assertValidity(){}addRecoveryBit(O){return new v(this.r,this.s,O)}recoverPublicKey(O){const{r:M,s:k,recovery:N}=this,U=E(Ce("msgHash",O));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const L=N===2||N===3?M+t.n:M;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=(N&1)===0?"02":"03",Oe=f.fromHex(H+$s(L,n.BYTES)),ce=u(L),ee=c(-U*ce),Lt=c(k*ce),it=f.BASE.multiplyAndAddUnsafe(Oe,ee,Lt);if(!it)throw new Error("point at infinify");return it.assertValidity(),it}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Sr(this.toDERHex())}toDERHex(){return Ke.hexFromSig(this)}toCompactRawBytes(){return Sr(this.toCompactHex())}toCompactHex(){const O=s;return $s(this.r,O)+$s(this.s,O)}}const x={isValidPrivateKey(T){try{return l(T),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const T=Ff(t.n);return R1(t.randomBytes(T),t.n)},precompute(T=8,O=f.BASE){return O._setWindowSize(T),O.multiply(BigInt(3)),O}};function g(T,O=!0){return f.fromPrivateKey(T).toRawBytes(O)}function w(T){if(typeof T=="bigint")return!1;if(T instanceof f)return!0;const M=Ce("key",T).length,k=n.BYTES,N=k+1,U=2*k+1;if(!(t.allowedPrivateKeyLengths||s===N))return M===N||M===U}function y(T,O,M=!0){if(w(T)===!0)throw new Error("first arg must be private key");if(w(O)===!1)throw new Error("second arg must be public key");return f.fromHex(O).multiply(l(T)).toRawBytes(M)}const P=t.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const O=Et(T),M=T.length*8-i;return M>0?O>>BigInt(M):O},E=t.bits2int_modN||function(T){return c(P(T))},I=Gr(i);function C(T){return Jt("num < 2^"+i,T,Qe,I),er(T,s)}function $(T,O,M=B){if(["recovered","canonical"].some(pt=>pt in M))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:N}=t;let{lowS:U,prehash:L,extraEntropy:H}=M;U==null&&(U=!0),T=Ce("msgHash",T),ja(M),L&&(T=Ce("prehashed msgHash",k(T)));const Oe=E(T),ce=l(O),ee=[C(ce),C(Oe)];if(H!=null&&H!==!1){const pt=H===!0?N(n.BYTES):H;ee.push(Ce("extraEntropy",pt))}const Lt=Ar(...ee),it=Oe;function cs(pt){const Dt=P(pt);if(!h(Dt))return;const us=u(Dt),pn=f.BASE.multiply(Dt).toAffine(),bt=c(pn.x);if(bt===Qe)return;const bn=c(us*c(it+bt*ce));if(bn===Qe)return;let qt=(pn.x===bt?0:2)|Number(pn.y&Z),qo=bn;return U&&m(bn)&&(qo=p(bn),qt^=1),new v(bt,qo,qt)}return{seed:Lt,k2sig:cs}}const B={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};function R(T,O,M=B){const{seed:k,k2sig:N}=$(T,O,M),U=t;return mh(U.hash.outputLen,U.nByteLength,U.hmac)(k,N)}f.BASE._setWindowSize(8);function z(T,O,M,k=F){const N=T;O=Ce("msgHash",O),M=Ce("publicKey",M);const{lowS:U,prehash:L,format:H}=k;if(ja(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&H!=="compact"&&H!=="der")throw new Error("format must be compact or der");const Oe=typeof N=="string"||Xn(N),ce=!Oe&&!H&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!Oe&&!ce)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,Lt;try{if(ce&&(ee=new v(N.r,N.s)),Oe){try{H!=="compact"&&(ee=v.fromDER(N))}catch(qt){if(!(qt instanceof Ke.Err))throw qt}!ee&&H!=="der"&&(ee=v.fromCompact(N))}Lt=f.fromHex(M)}catch{return!1}if(!ee||U&&ee.hasHighS())return!1;L&&(O=t.hash(O));const{r:it,s:cs}=ee,pt=E(O),Dt=u(cs),us=c(pt*Dt),pn=c(it*Dt),bt=f.BASE.multiplyAndAddUnsafe(Lt,us,pn)?.toAffine();return bt?c(bt.x)===it:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:y,sign:R,verify:z,ProjectivePoint:f,Signature:v,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function H1(e){return{hash:e,hmac:(t,...n)=>Sf(e,t,b0(...n)),randomBytes:m0}}function rs(e,t){const n=r=>q1({...e,...H1(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),La=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),G1=BigInt(0),V1=BigInt(1),yi=BigInt(2),Da=(e,t)=>(e+t/yi)/t;function W1(e){const t=Uf,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=Ie(f,n,t)*f%t,d=Ie(l,n,t)*f%t,h=Ie(d,yi,t)*u%t,m=Ie(h,s,t)*h%t,p=Ie(m,i,t)*m%t,b=Ie(p,a,t)*p%t,v=Ie(b,c,t)*b%t,x=Ie(v,a,t)*p%t,g=Ie(x,n,t)*f%t,w=Ie(g,o,t)*m%t,y=Ie(w,r,t)*u%t,P=Ie(y,yi,t);if(!gi.eql(gi.sqr(P),e))throw new Error("Cannot find square root");return P}const gi=fn(Uf,void 0,void 0,{sqrt:W1}),Bo=rs({a:G1,b:BigInt(7),Fp:gi,n:La,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=La,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-V1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Da(i*e,t),c=Da(-r*e,t);let u=ue(e-a*n-c*s,t),f=ue(-a*r-c*i,t);const l=u>o,d=f>o;if(l&&(u=t-u),d&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:d,k2:f}}}},bo),K1=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Bo},Symbol.toStringTag,{value:"Module"}));function zf(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Os({signature:e});if(typeof e.s>"u")throw new Os({signature:e});if(n&&typeof e.yParity>"u")throw new Os({signature:e});if(e.r<0n||e.r>Fa)throw new tm({value:e.r});if(e.s<0n||e.s>Fa)throw new nm({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new To({value:e.yParity})}function Q1(e){return jf(Ne(e))}function jf(e){if(e.length!==130&&e.length!==132)throw new em({signature:e});const t=BigInt(De(e,0,32)),n=BigInt(De(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Oo(s)}catch{throw new To({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Z1(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Y1(e)}function Y1(e){const t=typeof e=="string"?jf(e):e instanceof Uint8Array?Q1(e):typeof e.r=="string"?X1(e):e.v?J1(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return zf(t),t}function J1(e){return{r:e.r,s:e.s,yParity:Oo(e.v)}}function X1(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Oo(n)),typeof r!="number")throw new To({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Oo(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new rm({value:e})}class em extends j{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${xe(Lh(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Os extends j{constructor({signature:t}){super(`Signature \`${xu(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class tm extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class nm extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class To extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class rm extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function sm(e,t={}){return typeof e.chainId=="string"?im(e):{...e,...t.signature}}function im(e){const{address:t,chainId:n,nonce:r}=e,s=Z1(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const om="0x8010801080108010801080108010801080108010801080108010801080108010",am=Ef("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Lf(e){if(typeof e=="string"){if(De(e,-32)!==om)throw new fm(e)}else zf(e.authorization)}function cm(e){Lf(e);const t=Su(De(e,-64,-32)),n=De(e,-t-64,-64),r=De(e,0,-t-64),[s,i,o]=x1(am,n);return{authorization:sm({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function um(e){try{return Lf(e),!0}catch{return!1}}let fm=class extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function L6(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=he([nt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Kb]);return s==="hex"?i:Ae(i)}function dm(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function lm(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ve(e.nonce):void 0,storageProof:e.storageProof?dm(e.storageProof):void 0}}async function hm(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?A(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return lm(a)}async function pm(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?A(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function ko(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:o,nonce:a}){const c=r||"latest",u=n!==void 0?A(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,A(i)]},{dedupe:!0}):typeof i=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,A(i)]},{dedupe:!!u}):o&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,A(a)]},{dedupe:!0})),!f)throw new uu({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:i});return(e.chain?.formatters?.transaction?.format||Jr)(f,"getTransaction")}async function bm(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,ir,"getBlockNumber")({}),t?_(e,ko,"getTransaction")({hash:t}):void 0]),i=n?.blockNumber||s?.blockNumber;return i?r-i+1n:0n}async function xr(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new fu({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Po)(n,"getTransactionReceipt")}async function Df(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},d=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return cn({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let m=0,p=0;for(let x=0;x<u.length;x++){const{abi:g,address:w,args:y,functionName:P}=u[x];try{const E=_e({abi:g,args:y,functionName:P});p+=(E.length-2)/2,f>0&&p>f&&h[m].length>0&&(m++,p=(E.length-2)/2,h[m]=[]),h[m]=[...h[m],{allowFailure:!0,callData:E,target:w}]}catch(E){const I=sn(E,{abi:g,address:w,args:y,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw I;h[m]=[...h[m],{allowFailure:!0,callData:"0x",target:w}]}}const b=await Promise.allSettled(h.map(x=>_(e,$e,"readContract")({...d===null?{code:Xi}:{address:d},abi:Ir,account:n,args:[x],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),v=[];for(let x=0;x<b.length;x++){const g=b[x];if(g.status==="rejected"){if(!s)throw g.reason;for(let y=0;y<h[x].length;y++)v.push({status:"failure",error:g.reason,result:void 0});continue}const w=g.value;for(let y=0;y<w.length;y++){const{returnData:P,success:E}=w[y],{callData:I}=h[x][y],{abi:C,address:$,functionName:B,args:F}=u[v.length];try{if(I==="0x")throw new Kn;if(!E)throw new Hr({data:P});const R=zt({abi:C,args:F,data:P,functionName:B});v.push(s?{result:R,status:"success"}:R)}catch(R){const z=sn(R,{abi:C,address:$,args:F,docsPath:"/docs/contract/multicall",functionName:B});if(!s)throw z;v.push({error:z,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new S("multicall results mismatch");return v}async function wi(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const d of s){const h=d.blockOverrides?Bu(d.blockOverrides):void 0,m=d.calls.map(b=>{const v=b,x=v.account?ae(v.account):void 0,g=v.abi?_e(v):v.data,w={...v,account:x,data:v.dataSuffix?Fe([g||"0x",v.dataSuffix]):g,from:v.from??x?.address};return nr(w),Qr(w)}),p=d.stateOverrides?io(d.stateOverrides):void 0;c.push({blockOverrides:h,calls:m,stateOverrides:p})}const f=(typeof n=="bigint"?A(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((d,h)=>({...uo(d),calls:d.calls.map((m,p)=>{const{abi:b,args:v,functionName:x,to:g}=s[h].calls[p],w=m.error?.data??m.returnData,y=BigInt(m.gasUsed),P=m.logs?.map($=>et($)),E=m.status==="0x1"?"success":"failure",I=b&&E==="success"&&w!=="0x"?zt({abi:b,data:w,functionName:x}):null,C=(()=>{if(E==="success")return;let $;if(m.error?.data==="0x"?$=new Kn:m.error&&($=new Hr(m.error)),!!$)return sn($,{abi:b??[],address:g??"0x",args:v,functionName:x??"<unknown>"})})();return{data:w,gasUsed:y,logs:P,status:E,...E==="success"?{result:I}:{error:C}}})}))}catch(c){const u=c,f=to(u,{});throw f instanceof Kr?u:f}}function vi(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new j("Unable to normalize signature.");return s}function xi(e,t){const n=typeof e,r=t.type;switch(r){case"address":return li(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>xi(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>xi(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function qf(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return qf(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?li(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?li(n[r],{strict:!1}):!1)return o}}function Hf(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?fa(e):e;return{...r,...n?{hash:Zt(r)}:{}}}function ss(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=Dh(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?Gf(u)===De(t,0,4):u.type==="event"?Zt(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new Br({name:t});if(o.length===1)return{...o[0],...s?{hash:Zt(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Zt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,d)=>{const h="inputs"in u&&u.inputs[d];return h?xi(l,h):!1})){if(a&&"inputs"in a&&a.inputs){const l=qf(u.inputs,a.inputs,r);if(l)throw new ym({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new Br({name:t});return{...c,...s?{hash:Zt(c)}:{}}}function Gf(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return ss(n,r)}return e[0]})();return De(Zt(t),0,4)}function mm(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return ss(r,s)}return e[0]})(),n=typeof t=="string"?t:Cr(t);return vi(n)}function Zt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return ss(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:wf(Ji(mm(t)))}class ym extends j{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${vi(Cr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${vi(Cr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Br extends j{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function gm(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,o]=e;return[vm(i),o]}return e})(),{bytecode:r,args:s}=n;return Me(r,t.inputs?.length&&s?.length?Ao(t.inputs,s):"0x")}function wm(e){return Hf(e)}function vm(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Br({name:"constructor"});return t}function xm(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,l]=e;return[qa(u,f,{args:l}),l]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?qa([t,...r],t.name,{args:n}):t,i=Em(s),o=n.length>0?Ao(s.inputs,n):void 0;return o?Me(i,o):i}function Wt(e,t={}){return Hf(e,t)}function qa(e,t,n){const r=ss(e,t,n);if(r.type!=="function")throw new Br({name:t,type:"function"});return r}function Em(e){return Gf(e)}const Pm="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ze="0x0000000000000000000000000000000000000000",Im="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Cm(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?ae(t.account):void 0;if(o&&!u)throw new S("`account` is required when `traceAssetChanges` is true");const f=u?gm(wm("constructor(bytes, bytes)"),{bytecode:Ou,args:[Im,xm(Wt("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:N}=await zu(e,{account:u.address,...k,data:k.abi?_e(k):k.data});return N.map(({address:U,storageKeys:L})=>L.length>0?U:null)})).then(k=>k.flat().filter(Boolean)):[],d=await wi(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:i},{calls:l.map((k,N)=>({abi:[Wt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:ze,nonce:N})),stateOverrides:[{address:ze,nonce:0}]}]:[],{calls:[...s,{}].map(k=>({...k,from:u?.address})),stateOverrides:i},...o?[{calls:[{data:f}]},{calls:l.map((k,N)=>({abi:[Wt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:ze,nonce:N})),stateOverrides:[{address:ze,nonce:0}]},{calls:l.map((k,N)=>({to:k,abi:[Wt("function decimals() returns (uint256)")],functionName:"decimals",from:ze,nonce:N})),stateOverrides:[{address:ze,nonce:0}]},{calls:l.map((k,N)=>({to:k,abi:[Wt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ze,nonce:N})),stateOverrides:[{address:ze,nonce:0}]},{calls:l.map((k,N)=>({to:k,abi:[Wt("function symbol() returns (string)")],functionName:"symbol",from:ze,nonce:N})),stateOverrides:[{address:ze,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?d[2]:d[0],[m,p,,b,v,x,g,w]=o?d:[],{calls:y,...P}=h,E=y.slice(0,-1)??[],I=m?.calls??[],C=p?.calls??[],$=[...I,...C].map(k=>k.status==="success"?Y(k.data):null),B=b?.calls??[],F=v?.calls??[],R=[...B,...F].map(k=>k.status==="success"?Y(k.data):null),z=(x?.calls??[]).map(k=>k.status==="success"?k.result:null),T=(w?.calls??[]).map(k=>k.status==="success"?k.result:null),O=(g?.calls??[]).map(k=>k.status==="success"?k.result:null),M=[];for(const[k,N]of R.entries()){const U=$[k];if(typeof N!="bigint"||typeof U!="bigint")continue;const L=z[k-1],H=T[k-1],Oe=O[k-1],ce=k===0?{address:Pm,decimals:18,symbol:"ETH"}:{address:l[k-1],decimals:Oe||L?Number(L??1):void 0,symbol:H??void 0};M.some(ee=>ee.token.address===ce.address)||M.push({token:ce,value:{pre:U,post:N,diff:N-U}})}return{assetChanges:M,block:P,results:E}}async function Sm(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?ae(a.account):e.account,u=_e({abi:n,args:s,functionName:o});try{const{data:f}=await _(e,rr,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),l=zt({abi:n,args:s,functionName:o,data:f||"0x"}),d=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:l,request:{abi:d,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw sn(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function is(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Vf="0x6492649264926492649264926492649264926492649264926492649264926492";function Am(e){if(De(e,-32)!==Vf)throw new Om(e)}function $m(e){const{data:t,signature:n,to:r}=e;return Me(Ao(Ef("address, bytes, bytes"),[r,t,n]),Vf)}function Bm(e){try{return Am(e),!0}catch{return!1}}class Om extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Tm({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Bo.Signature(Y(e),Y(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:Ae(o)}async function os(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const a=t.signature;return Re(a)?a:typeof a=="object"&&"r"in a&&"s"in a?Tm(a):W(a)})();try{return um(o)?await km(e,{...t,multicallAddress:i,signature:o}):await Rm(e,{...t,verifierAddress:s,signature:o})}catch(a){try{if(un(X(n),await qu({hash:r,signature:o})))return!0}catch{}if(a instanceof Rt)return!1;throw a}}async function km(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:f}=cm(t.signature);if(await di(e,{address:n,blockNumber:r,blockTag:s})===he(["0xef0100",a.address]))return await Fm(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:A(a.r,{size:32}),s:A(a.s,{size:32}),yParity:a.yParity};if(!await Pb({address:n,authorization:d}))throw new Rt;const m=await _(e,$e,"readContract")({...o?{address:o}:{code:Xi},authorizationList:[d],abi:Ir,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:_e({abi:wc,functionName:"isValidSignature",args:[i,u]})}]]});if(m[m.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Rt}async function Rm(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||Bm(o)?o:$m({data:s,signature:o,to:r}))(),f=a?{to:a,data:_e({abi:Ko,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:eo({abi:Ko,args:[n,i,u],bytecode:Kh}),...c},{data:l}=await _(e,rr,"call")(f).catch(d=>{throw d instanceof du?new Rt:d});if(Hd(l??"0x0"))return!0;throw new Rt}async function Fm(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await _(e,$e,"readContract")({address:n,abi:wc,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Gi?new Rt:c})).startsWith("0x1626ba7e"))return!0;throw new Rt}class Rt extends Error{}async function Mm(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=pf(n);return os(e,{address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function Nm(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...f}=t,l=Hb({message:o,primaryType:a,types:c,domain:u});return os(e,{address:n,factory:r,factoryData:s,hash:l,signature:i,...f})}const Ts=new Map,Ha=new Map;let _m=0;function tt(e,t,n){const r=++_m,s=()=>Ts.get(e)||[],i=()=>{const f=s();Ts.set(e,f.filter(l=>l.id!==r))},o=()=>{const f=s();if(!f.some(d=>d.id===r))return;const l=Ha.get(e);if(f.length===1&&l){const d=l();d instanceof Promise&&d.catch(()=>{})}i()},a=s();if(Ts.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const f in t)c[f]=((...l)=>{const d=s();if(d.length!==0)for(const h of d)h.fns[f]?.(...l)});const u=n(c);return typeof u=="function"&&Ha.set(e,u),o}function dn(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await n?.(a)??r;await $r(c);const u=async()=>{s&&(await e({unpoll:i}),await $r(r),u())};u()})(),i}function Wf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=V(["watchBlockNumber",e.uid,t,n,o]);return tt(l,{onBlockNumber:r,onError:s},d=>dn(async()=>{try{const h=await _(e,ir,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(h===c)return;if(h-c>1&&n)for(let m=c+1n;m<h;m++)d.onBlockNumber(m,c),c=m}(c===void 0||h>c)&&(d.onBlockNumber(h,c),c=h)}catch(h){d.onError?.(h)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=V(["watchBlockNumber",e.uid,t,n]);return tt(l,{onBlockNumber:r,onError:s},d=>{let h=!0,m=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:b}=await p.subscribe({params:["newHeads"],onData(v){if(!h)return;const x=Y(v.result?.number);d.onBlockNumber(x,c),c=x},onError(v){d.onError?.(v)}});m=b,h||m()}catch(p){s?.(p)}})(),()=>m()})})()}async function Um(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=V(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,d,h,m=!1,p,b;const{promise:v,resolve:x,reject:g}=so(),w=c?setTimeout(()=>{b?.(),p?.(),g(new eh({hash:s}))},c):void 0;return p=tt(u,{onReplaced:i,resolve:x,reject:g},async y=>{if(h=await _(e,xr,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(w),y.resolve(h),p?.();return}b=_(e,Wf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(P){const E=C=>{clearTimeout(w),b?.(),C(),p?.()};let I=P;if(!m)try{if(h){if(r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;E(()=>y.resolve(h));return}if(n&&!l&&(m=!0,await kt(async()=>{l=await _(e,ko,"getTransaction")({hash:s}),l.blockNumber&&(I=l.blockNumber)},{delay:a,retryCount:o}),m=!1),h=await _(e,xr,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r))return;E(()=>y.resolve(h))}catch(C){if(C instanceof uu||C instanceof fu){if(!l){m=!1;return}try{d=l,m=!0;const $=await kt(()=>_(e,je,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:R})=>R instanceof Wu});m=!1;const B=$.transactions.find(({from:R,nonce:z})=>R===d.from&&z===d.nonce);if(!B||(h=await _(e,xr,"getTransactionReceipt")({hash:B.hash}),r>1&&(!h.blockNumber||I-h.blockNumber+1n<r)))return;let F="replaced";B.to===d.to&&B.value===d.value&&B.input===d.input?F="repriced":B.from===B.to&&B.value===0n&&(F="cancelled"),E(()=>{y.onReplaced?.({reason:F,replacedTransaction:d,transaction:B,transactionReceipt:h}),y.resolve(h)})}catch($){E(()=>y.reject($))}}else E(()=>y.reject(C))}}})}),v}function zm(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let l;return u?(()=>{const m=V(["watchBlocks",e.uid,t,n,r,f,c]);return tt(m,{onBlock:s,onError:i},p=>dn(async()=>{try{const b=await _(e,je,"getBlock")({blockTag:t,includeTransactions:f});if(b.number!==null&&l?.number!=null){if(b.number===l.number)return;if(b.number-l.number>1&&n)for(let v=l?.number+1n;v<b.number;v++){const x=await _(e,je,"getBlock")({blockNumber:v,includeTransactions:f});p.onBlock(x,l),l=x}}(l?.number==null||t==="pending"&&b?.number==null||b.number!==null&&b.number>l.number)&&(p.onBlock(b,l),l=b)}catch(b){p.onError?.(b)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,p=!0,b=()=>m=!1;return(async()=>{try{r&&_(e,je,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{m&&p&&(s(g,void 0),p=!1)}).catch(i);const v=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:x}=await v.subscribe({params:["newHeads"],async onData(g){if(!m)return;const w=await _(e,je,"getBlock")({blockNumber:g.result?.number,includeTransactions:f}).catch(()=>{});m&&(s(w,l),p=!1,l=w)},onError(g){i?.(g)}});b=x,m||b()}catch(v){i?.(v)}})(),()=>b()})()}function jm(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:d}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const b=d??!1,v=V(["watchContractEvent",r,s,i,e.uid,o,l,b,a]);return tt(v,{onLogs:u,onError:c},x=>{let g;a!==void 0&&(g=a-1n);let w,y=!1;const P=dn(async()=>{if(!y){try{w=await _(e,ju,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:b,fromBlock:a})}catch{}y=!0;return}try{let E;if(w)E=await _(e,Xr,"getFilterChanges")({filter:w});else{const I=await _(e,ir,"getBlockNumber")({});g&&g<I?E=await _(e,uf,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:g+1n,toBlock:I,strict:b}):E=[],g=I}if(E.length===0)return;if(i)x.onLogs(E);else for(const I of E)x.onLogs([I])}catch(E){w&&E instanceof At&&(y=!1),x.onError?.(E)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await _(e,is,"uninstallFilter")({filter:w}),P()}})})():(()=>{const b=d??!1,v=V(["watchContractEvent",r,s,i,e.uid,o,l,b]);let x=!0,g=()=>x=!1;return tt(v,{onLogs:u,onError:c},w=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),P=o?sr({abi:n,eventName:o,args:s}):[],{unsubscribe:E}=await y.subscribe({params:["logs",{address:r,topics:P}],onData(I){if(!x)return;const C=I.result;try{const{eventName:$,args:B}=wo({abi:n,data:C.data,topics:C.topics,strict:d}),F=et(C,{args:B,eventName:$});w.onLogs([F])}catch($){let B,F;if($ instanceof Pn||$ instanceof Fr){if(d)return;B=$.abiItem.name,F=$.abiItem.inputs?.some(z=>!("name"in z&&z.name))}const R=et(C,{args:F?[]:{},eventName:B});w.onLogs([R])}},onError(I){w.onError?.(I)}});g=E,x||g()}catch(y){c?.(y)}})(),()=>g()))})()}function Lm(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const d=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=l??!1;return d?(()=>{const b=V(["watchEvent",t,n,r,e.uid,s,f,o]);return tt(b,{onLogs:c,onError:a},v=>{let x;o!==void 0&&(x=o-1n);let g,w=!1;const y=dn(async()=>{if(!w){try{g=await _(e,Lu,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}w=!0;return}try{let P;if(g)P=await _(e,Xr,"getFilterChanges")({filter:g});else{const E=await _(e,ir,"getBlockNumber")({});x&&x!==E?P=await _(e,xo,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:x+1n,toBlock:E}):P=[],x=E}if(P.length===0)return;if(r)v.onLogs(P);else for(const E of P)v.onLogs([E])}catch(P){g&&P instanceof At&&(w=!1),v.onError?.(P)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await _(e,is,"uninstallFilter")({filter:g}),y()}})})():(()=>{let b=!0,v=()=>b=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),g=i??(s?[s]:void 0);let w=[];g&&(w=[g.flatMap(E=>sr({abi:[E],eventName:E.name,args:n}))],s&&(w=w[0]));const{unsubscribe:y}=await x.subscribe({params:["logs",{address:t,topics:w}],onData(P){if(!b)return;const E=P.result;try{const{eventName:I,args:C}=wo({abi:g??[],data:E.data,topics:E.topics,strict:h}),$=et(E,{args:C,eventName:I});c([$])}catch(I){let C,$;if(I instanceof Pn||I instanceof Fr){if(l)return;C=I.abiItem.name,$=I.abiItem.inputs?.some(F=>!("name"in F&&F.name))}const B=et(E,{args:$?[]:{},eventName:C});c([B])}},onError(P){a?.(P)}});v=y,b||v()}catch(x){a?.(x)}})(),()=>v()})()}function Dm(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=V(["watchPendingTransactions",e.uid,t,i]);return tt(u,{onTransactions:r,onError:n},f=>{let l;const d=dn(async()=>{try{if(!l)try{l=await _(e,Du,"createPendingTransactionFilter")({});return}catch(m){throw d(),m}const h=await _(e,Xr,"getFilterChanges")({filter:l});if(h.length===0)return;if(t)f.onTransactions(h);else for(const m of h)f.onTransactions([m])}catch(h){f.onError?.(h)}},{emitOnBegin:!0,interval:i});return async()=>{l&&await _(e,is,"uninstallFilter")({filter:l}),d()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(d){if(!u)return;const h=d.result;r([h])},onError(d){n?.(d)}});f=l,u||f()}catch(l){n?.(l)}})(),()=>f()})()}class Kf extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}async function qm(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Hm="0x5792579257925792579257925792579257925792579257925792579257925792",Gm=A(0,{size:32});async function Vm(e,t){async function n(f){if(f.endsWith(Hm.slice(2))){const d=de(Hs(f,-64,-32)),h=Hs(f,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(h.map(b=>Gm.slice(2)!==b?e.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),p=m.some(b=>b===null)?100:m.every(b=>b?.status==="0x1")?200:m.every(b=>b?.status==="0x0")?500:600;return{atomic:!1,chainId:ve(d),receipts:m.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?ve(s):void 0,receipts:i?.map(f=>({...f,blockNumber:Y(f.blockNumber),gasUsed:Y(f.gasUsed),status:hf[f.status]}))??[],statusCode:u,status:c,version:o}}async function D6(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Kf({docsPath:"/docs/eip7702/prepareAuthorization"});const i=ae(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:ae(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await _(e,yo,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await _(e,lo,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o?.address&&un(o.address,i.address))&&(a.nonce+=1)),a}class Wm extends S{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function q6(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:i=4,retryDelay:o=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=V(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:l,reject:d}=so();let h;const m=tt(u,{resolve:l,reject:d},p=>{const b=dn(async()=>{const v=x=>{clearTimeout(h),b(),x(),m()};try{const x=await kt(async()=>{const g=await _(e,Vm,"getCallsStatus")({id:n});if(c&&g.status==="failure")throw new Wm(g);return g},{retryCount:i,delay:o});if(!s(x))return;v(()=>p.resolve(x))}catch(x){v(()=>p.reject(x))}},{interval:r,emitOnBegin:!0});return b});return h=a?setTimeout(()=>{m(),clearTimeout(h),d(new Km({id:n}))},a):void 0,await f}class Km extends S{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function Qm(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,A(r)]:[t]},{retryCount:0}),o=(e.chain?.formatters?.transactionReceipt?.format||Po)(s);if(o.status==="reverted"&&n)throw new Xl({receipt:o});return o}async function Zm(e,{account:t=e.account,message:n}){if(!t)throw new Kf({docsPath:"/docs/actions/wallet/signMessage"});const r=ae(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Pt(n):n.raw instanceof Uint8Array?le(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}function ln(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const Er="2.22.1",Ym=()=>`@wagmi/core@${Er}`;var Qf=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Or,Zf;let st=class Ei extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Ym()}constructor(t,n={}){super(),Or.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Ei?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Ei&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Qf(this,Or,"m",Zf).call(this,this,t)}};Or=new WeakSet,Zf=function e(t,n){return n?.(t)?t:t.cause?Qf(this,Or,"m",e).call(this,t.cause,n):t};class Ft extends st{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class Jm extends st{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class Xm extends st{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class ey extends st{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class ty extends st{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class ny extends st{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function ry(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new Jm;try{e.setState(o=>({...o,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,i=await n.connect(s);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(o=>({...o,connections:new Map(o.connections).set(n.uid,{accounts:s.withCapabilities?i.accounts.map(a=>typeof a=="object"?a.address:a):i.accounts,chainId:i.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s.withCapabilities?i.accounts.map(o=>typeof o=="object"?o:{address:o,capabilities:{}}):i.accounts,chainId:i.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const Pi=256;let hr=Pi,pr;function Yf(e=11){if(!pr||hr+e>Pi*2){pr="",hr=0;for(let t=0;t<Pi;t++)pr+=(256+Math.random()*256|0).toString(16).substring(1)}return pr.substring(hr,hr+++e)}function Ro(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,d=e.account?ae(e.account):void 0,{config:h,request:m,value:p}=e.transport({chain:n,pollingInterval:f}),b={...h,...p},v={account:d,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:m,transport:b,type:o,uid:Yf(),...a?{experimental_blockTag:a}:{}};function x(g){return w=>{const y=w(g);for(const E in v)delete y[E];const P={...g,...y};return Object.assign(P,{extend:x(P)})}}return Object.assign(v,{extend:x(v)})}function sy(e){const{scheme:t,statement:n,...r}=e.match(iy)?.groups??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=e.match(oy)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const iy=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,oy=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function ay(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!K(r.address,{strict:!1})||t&&!un(r.address,t))return!1}catch{return!1}return!0}async function cy(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,f=sy(s);if(!f.address||!ay({address:n,domain:r,message:f,nonce:i,scheme:o,time:c}))return!1;const d=pf(s);return os(e,{address:f.address,hash:d,signature:a,...u})}function Jf(e){return{call:t=>rr(e,t),createAccessList:t=>zu(e,t),createBlockFilter:()=>mp(e),createContractEventFilter:t=>ju(e,t),createEventFilter:t=>Lu(e,t),createPendingTransactionFilter:()=>Du(e),estimateContractGas:t=>Zp(e,t),estimateGas:t=>go(e,t),getBalance:t=>cf(e,t),getBlobBaseFee:()=>Yp(e),getBlock:t=>je(e,t),getBlockNumber:t=>ir(e,t),getBlockTransactionCount:t=>rb(e,t),getBytecode:t=>di(e,t),getChainId:()=>yo(e),getCode:t=>di(e,t),getContractEvents:t=>uf(e,t),getEip712Domain:t=>ab(e,t),getEnsAddress:t=>np(e,t),getEnsAvatar:t=>_u(e,t),getEnsName:t=>Uu(e,t),getEnsResolver:t=>bp(e,t),getEnsText:t=>Nu(e,t),getFeeHistory:t=>fb(e,t),estimateFeesPerGas:t=>Tp(e,t),getFilterChanges:t=>Xr(e,t),getFilterLogs:t=>db(e,t),getGasPrice:()=>fo(e),getLogs:t=>xo(e,t),getProof:t=>hm(e,t),estimateMaxPriorityFeePerGas:t=>Op(e,t),getStorageAt:t=>pm(e,t),getTransaction:t=>ko(e,t),getTransactionConfirmations:t=>bm(e,t),getTransactionCount:t=>lo(e,t),getTransactionReceipt:t=>xr(e,t),multicall:t=>Df(e,t),prepareTransactionRequest:t=>af(e,t),readContract:t=>$e(e,t),sendRawTransaction:t=>qm(e,t),sendRawTransactionSync:t=>Qm(e,t),simulate:t=>wi(e,t),simulateBlocks:t=>wi(e,t),simulateCalls:t=>Cm(e,t),simulateContract:t=>Sm(e,t),verifyHash:t=>os(e,t),verifyMessage:t=>Mm(e,t),verifySiweMessage:t=>cy(e,t),verifyTypedData:t=>Nm(e,t),uninstallFilter:t=>is(e,t),waitForTransactionReceipt:t=>Um(e,t),watchBlocks:t=>zm(e,t),watchBlockNumber:t=>Wf(e,t),watchContractEvent:t=>jm(e,t),watchEvent:t=>Lm(e,t),watchPendingTransactions:t=>Dm(e,t)}}function H6(e){const{key:t="public",name:n="Public Client"}=e;return Ro({...e,key:t,name:n,type:"publicClient"}).extend(Jf)}function Fo({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=Yf();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Cb(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function uy(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>Fo({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function G6(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=fy,retryCount:o,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:f,...l})=>{let d=e,h=()=>{};const m=Fo({key:n,name:r,async request({method:p,params:b}){let v;const x=async(g=0)=>{const w=d[g]({...l,chain:c,retryCount:0,timeout:f});try{const y=await w.request({method:p,params:b});return h({method:p,params:b,response:y,transport:w,status:"success"}),y}catch(y){if(h({error:y,method:p,params:b,transport:w,status:"error"}),i(y)||g===d.length-1||(v??=d.slice(g+1).some(P=>{const{include:E,exclude:I}=P({chain:c}).config.methods||{};return E?E.includes(p):I?!I.includes(p):!0}),!v))throw y;return x(g+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:d.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};dy({chain:c,interval:p.interval??u,onTransports:b=>d=b,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:d,weights:p.weights})}return m})}function fy(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===nn.code||e.code===q.code||yt.nodeMessage.test(e.message)||e.code===5e3))}function dy({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],l=async()=>{const d=await Promise.all(o.map(async p=>{const b=p({chain:e,retryCount:0,timeout:i}),v=Date.now();let x,g;try{await(r?r({transport:b}):b.request({method:"net_listening"})),g=1}catch{g=0}finally{x=Date.now()}return{latency:x-v,success:g}}));f.push(d),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:b})=>b)))),m=o.map((p,b)=>{const v=f.map(P=>P[b].latency),g=1-v.reduce((P,E)=>P+E,0)/v.length/h,w=f.map(P=>P[b].success),y=w.reduce((P,E)=>P+E,0)/w.length;return y===0?[0,b]:[u*g+c*y,b]}).sort((p,b)=>b[0]-p[0]);n(m.map(([,p])=>o[p])),await $r(t),l()};l()}class ly extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function V6(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:l}=t;return({chain:d,retryCount:h,timeout:m})=>{const{batchSize:p=1e3,wait:b=0}=typeof n=="object"?n:{},v=t.retryCount??h,x=m??t.timeout??1e4,g=e||d?.rpcUrls.default.http[0];if(!g)throw new ly;const w=Mb(g,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:x});return Fo({key:i,methods:o,name:a,async request({method:y,params:P}){const E={method:y,params:P},{schedule:I}=ku({id:g,wait:b,shouldSplitBatch(F){return F.length>p},fn:F=>w.request({body:F}),sort:(F,R)=>F.id-R.id}),C=async F=>n?I(F):[await w.request({body:F})],[{error:$,result:B}]=await C(E);if(l)return{error:$,result:B};if($)throw new Ki({body:E,error:$,url:g});return B},retryCount:v,retryDelay:f,timeout:x,type:"http"},{fetchOptions:s,url:g})}}function W6(e){const{r:t,s:n}=Bo.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:A(t,{size:32}),s:A(n,{size:32}),v:s,yParity:i}:{r:A(t,{size:32}),s:A(n,{size:32}),yParity:i}}async function hy(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:f}=t;if(e.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new ny({connector:f});const[l,d]=await Promise.all([f.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),f.getChainId()]);r={accounts:l,chainId:d,connector:f}}else r=e.state.connections.get(e.state.current);if(!r)throw new Xm;const s=t.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new ty({connectionChainId:s,connectorChainId:i});const o=r.connector;if(o.getClient)return o.getClient({chainId:s});const a=ae(t.account??r.accounts[0]);if(a&&(a.address=X(a.address)),t.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new ey({address:a.address,connector:o});const c=e.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return Ro({account:a,chain:c,name:"Connector Client",transport:f=>uy(u)({...f,retryCount:0})})}async function py(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:i}=e.state;n=s.get(i)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...s,connections:new Map(r),current:i.connector.uid}});{const s=e.state.current;if(!s)return;const i=e.state.connections.get(s)?.connector;if(!i)return;await e.storage?.setItem("recentConnectorId",i.id)}}function Xf(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(Gl[e])}function ed(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],i=e.chains.find(a=>a.id===n?.chainId),o=e.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function by(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=t,o=e.getClient({chainId:r});return ln(o,Df,"multicall")({allowFailure:n,contracts:s,...i})}function my(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ln(s,$e,"readContract")(r)}async function yy(e,t){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=t,o=t.contracts;try{const a={};for(const[l,d]of o.entries()){const h=d.chainId??e.state.chainId;a[h]||(a[h]=[]),a[h]?.push({contract:d,index:l})}const c=()=>Object.entries(a).map(([l,d])=>by(e,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(l,10),contracts:d.map(({contract:h})=>h)})),u=(await Promise.all(c())).flat(),f=Object.values(a).flatMap(l=>l.map(({index:d})=>d));return u.reduce((l,d,h)=>(l&&(l[f[h]]=d),l),[])}catch(a){if(a instanceof Gi)throw a;const c=()=>o.map(u=>my(e,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(c())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function gy(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=t;if(o)try{return await Ga(e,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(d){if(d.name==="ContractFunctionExecutionError"){const h=await Ga(e,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),m=Gd(de(h.symbol,{dir:"right"}));return{...h,symbol:m}}throw d}const c=e.getClient({chainId:i}),f=await ln(c,cf,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),l=e.chains.find(d=>d.id===i)??c.chain;return{decimals:l.nativeCurrency.decimals,formatted:Dr(f,Xf(a)),symbol:l.nativeCurrency.symbol,value:f}}async function Ga(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,u,f]=await yy(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),l=Dr(c??"0",Xf(o??u));return{decimals:u,formatted:l,symbol:f,value:c}}function Va(e){return e.state.chainId}function Mt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mt(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!Mt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}let ks=[];function Wa(e){const t=e.chains;return Mt(ks,t)?ks:(ks=t,t)}function wy(e,t={}){try{return e.getClient(t)}catch{return}}let br=[];function Ii(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Mt(br,t)?br:(br=t,t)}let mr=[];function Ka(e){const t=e.connectors;return mr.length===t.length&&mr.every((n,r)=>n===t[r])?mr:(mr=t,t)}function vy(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ln(s,_u,"getEnsAvatar")(r)}function xy(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ln(s,Uu,"getEnsName")(r)}function Ci(e,t={}){return wy(e,t)?.extend(Jf)}let Rs=!1;async function Ey(e,t={}){if(Rs)return[];Rs=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let f;typeof u=="function"?f=e._internal.connectors.setup(u):f=u,n.push(f)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((u,f)=>(s[u.id]??10)-(s[f.id]??10)):n;let o=!1;const a=[],c=[];for(const u of i){const f=await u.getProvider().catch(()=>{});if(!f||c.some(h=>h===f)||!await u.isAuthorized())continue;const d=await u.connect({isReconnecting:!0}).catch(()=>null);d&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(h=>{const m=new Map(o?h.connections:new Map).set(u.uid,{accounts:d.accounts,chainId:d.chainId,connector:u});return{...h,current:o?h.current:u.uid,connections:m}}),a.push({accounts:d.accounts,chainId:d.chainId,connector:u}),c.push(f),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),Rs=!1,a}async function Py(e,t){const{account:n,connector:r,...s}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient():i=await hy(e,{account:n,connector:r}),ln(i,Zm,"signMessage")({...s,...n?{account:n}:{}})}class ye extends st{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class Iy extends st{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function Cy(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const o=s.connector;if(!o.switchChain)throw new Iy({connector:o});return await o.switchChain({addEthereumChainParameter:n,chainId:r})}const i=e.chains.find(o=>o.id===r);if(!i)throw new Ft;return e.setState(o=>({...o,chainId:r})),i}function td(e,t){const{onChange:n}=t;return e.subscribe(()=>ed(e),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return Mt(o,c)&&i?.id===a?.id&&i?.uid===a?.uid}})}function Sy(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function Ay(e,t){const{onChange:n}=t;return e.subscribe(()=>Ii(e),n,{equalityFn:Mt})}function $y(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function By(e,t){const{onChange:n}=t;return e.subscribe(()=>Ci(e),n,{equalityFn(r,s){return r?.uid===s?.uid}})}function K6(e){return e}Mo.type="injected";function Mo(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...Oy[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Mo.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:l}={}){const d=await this.getProvider();if(!d)throw new ye;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(p=>X(p)),h.length>0&&(h=await this.getAccounts())}catch(m){const p=m;if(p.code===q.code)throw new q(p);if(p.code===Le.code)throw p}try{!h?.length&&!f&&(h=(await d.request({method:"eth_requestAccounts"})).map(b=>X(b))),o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let m=await this.getChainId();return u&&m!==u&&(m=(await this.switchChain({chainId:u}).catch(b=>{if(b.code===q.code)throw b;return{id:m}}))?.id??m),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:l?h.map(p=>({address:p,capabilities:{}})):h,chainId:m}}catch(m){const p=m;throw p.code===q.code?new q(p):p.code===Le.code?new Le(p):p}},async disconnect(){const u=await this.getProvider();if(!u)throw new ye;i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await ts(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new ye;return(await u.request({method:"eth_accounts"})).map(l=>X(l))},async getChainId(){const u=await this.getProvider();if(!u)throw new ye;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=Pr(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const d=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",d),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(p=>window.addEventListener("ethereum#initialized",()=>p(d()),{once:!0}))]:[],new Promise(p=>setTimeout(()=>p(d()),h))]))return!0}throw new ye}return!!(await kt(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){const l=await this.getProvider();if(!l)throw new ye;const d=c.chains.find(m=>m.id===f);if(!d)throw new we(new Ft);const h=new Promise(m=>{const p=(b=>{"chainId"in b&&b.chainId===f&&(c.emitter.off("change",p),m())});c.emitter.on("change",p)});try{return await Promise.all([l.request({method:"wallet_switchEthereumChain",params:[{chainId:A(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),d}catch(m){const p=m;if(p.code===4902||p?.data?.originalError?.code===4902)try{const{default:b,...v}=d.blockExplorers??{};let x;u?.blockExplorerUrls?x=u.blockExplorerUrls:b&&(x=[b.url,...Object.values(v).map(y=>y.url)]);let g;u?.rpcUrls?.length?g=u.rpcUrls:g=[d.rpcUrls.default?.http[0]??""];const w={blockExplorerUrls:x,chainId:A(f),chainName:u?.chainName??d.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??d.nativeCurrency,rpcUrls:g};return await Promise.all([l.request({method:"wallet_addEthereumChain",params:[w]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new q(new Error("User rejected switch after adding network."))}),h]),d}catch(b){throw new q(b)}throw p.code===q.code?new q(p):new we(p)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const f=(await this.getChainId()).toString();this.onConnect({chainId:f}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(f=>X(f))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const l=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:l});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),d.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),d.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(i&&(f.removeListener("chainChanged",i),i=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const Oy={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:Pr(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Pr(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:Pr(e,"isPhantom")}}};function Pr(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function Ty(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function ky(){const e=new Set;let t=[];const n=()=>Ty(s=>{t.some(({info:i})=>i.uuid===s.info.uuid)||(t=[...t,s],e.forEach(i=>i(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(i=>i.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:i}={}){return e.add(s),i&&s(t,{added:t}),()=>e.delete(s)}}}const Ry=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const f=c?.equalityFn||Object.is;let l=o(r.getState());u=d=>{const h=o(d);if(!f(l,h)){const m=l;a(l=h,m)}},c?.fireImmediately&&a(l,l)}return s(u)},e(t,n,r)},Fy=Ry;function My(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Si=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Si(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Si(r)(n)}}}},Ny=(e,t)=>(n,r,s)=>{let i={storage:My(()=>localStorage),partialize:p=>p,version:0,merge:(p,b)=>({...b,...p}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=i.partialize({...r()});return u.setItem(i.name,{state:p,version:i.version})},l=s.setState;s.setState=(p,b)=>{l(p,b),f()};const d=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>d;let h;const m=()=>{var p,b;if(!u)return;o=!1,a.forEach(x=>{var g;return x((g=r())!=null?g:d)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(p=r())!=null?p:d))||void 0;return Si(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate)return[!0,i.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var g;const[w,y]=x;if(h=i.merge(y,(g=r())!=null?g:d),n(h,!0),w)return f()}).then(()=>{v?.(h,void 0),h=r(),o=!0,c.forEach(x=>x(h))}).catch(x=>{v?.(void 0,x)})};return s.persist={setOptions:p=>{i={...i,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||m(),h||d},_y=Ny,Qa=e=>{let t;const n=new Set,r=(u,f)=>{const l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){const d=t;t=f??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(h=>h(t,d))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},Fs=e=>e?Qa(e):Qa;var Ms={exports:{}},Za;function Uy(){return Za||(Za=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,l,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,l||c,d),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],h]:c._events[m].push(h):(c._events[m]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,l;if(this._eventsCount===0)return u;for(l in f=this._events)t.call(f,l)&&u.push(n?l.slice(1):l);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var d=0,h=l.length,m=new Array(h);d<h;d++)m[d]=l[d].fn;return m},a.prototype.listenerCount=function(u){var f=n?n+u:u,l=this._events[f];return l?l.fn?1:l.length:0},a.prototype.emit=function(u,f,l,d,h,m){var p=n?n+u:u;if(!this._events[p])return!1;var b=this._events[p],v=arguments.length,x,g;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,l),!0;case 4:return b.fn.call(b.context,f,l,d),!0;case 5:return b.fn.call(b.context,f,l,d,h),!0;case 6:return b.fn.call(b.context,f,l,d,h,m),!0}for(g=1,x=new Array(v-1);g<v;g++)x[g-1]=arguments[g];b.fn.apply(b.context,x)}else{var w=b.length,y;for(g=0;g<w;g++)switch(b[g].once&&this.removeListener(u,b[g].fn,void 0,!0),v){case 1:b[g].fn.call(b[g].context);break;case 2:b[g].fn.call(b[g].context,f);break;case 3:b[g].fn.call(b[g].context,f,l);break;case 4:b[g].fn.call(b[g].context,f,l,d);break;default:if(!x)for(y=1,x=new Array(v-1);y<v;y++)x[y-1]=arguments[y];b[g].fn.apply(b[g].context,x)}}return!0},a.prototype.on=function(u,f,l){return i(this,u,f,l,!1)},a.prototype.once=function(u,f,l){return i(this,u,f,l,!0)},a.prototype.removeListener=function(u,f,l,d){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===f&&(!d||m.once)&&(!l||m.context===l)&&o(this,h);else{for(var p=0,b=[],v=m.length;p<v;p++)(m[p].fn!==f||d&&!m[p].once||l&&m[p].context!==l)&&b.push(m[p]);b.length?this._events[h]=b.length===1?b[0]:b:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Ms)),Ms.exports}var zy=Uy();const jy=mc(zy);class Ly{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new jy})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function Dy(e){return new Ly(e)}function qy(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function Ya(e,t){return e.slice(0,t).join(".")||"."}function Ja(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function Hy(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Ja(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const f=Ja(s,c);if(f!==0)return r?t.call(this,a,c,Ya(i,f)):`[ref=${Ya(i,f)}]`}else s[0]=c,i[0]=a;return n?e.call(this,a,c):c}}function Gy(e,t,n,r){return JSON.stringify(e,Hy((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),t?.(s,o)??o},r),n??void 0)}function Vy(e){const{deserialize:t=qy,key:n="wagmi",serialize:r=Gy,storage:s=nd}=e;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),u=await i(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const nd={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Wy(){const e=typeof window<"u"&&window.localStorage?window.localStorage:nd;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const Ai=256;let yr=Ai,gr;function Ky(e=11){if(!gr||yr+e>Ai*2){gr="",yr=0;for(let t=0;t<Ai;t++)gr+=(256+Math.random()*256|0).toString(16).substring(1)}return gr.substring(yr,yr+++e)}function Q6(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=Vy({storage:Wy()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=e,o=typeof window<"u"&&t?ky():void 0,a=Fs(()=>i.chains),c=Fs(()=>{const y=[],P=new Set;for(const E of i.connectors??[]){const I=u(E);if(y.push(I),!s&&I.rdns){const C=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const $ of C)P.add($)}}if(!s&&o){const E=o.getProviders();for(const I of E)P.has(I.info.rdns)||y.push(u(f(I)))}return y});function u(y){const P=Dy(Ky()),E={...y({emitter:P,chains:a.getState(),storage:n,transports:i.transports}),emitter:P,uid:P.uid};return P.on("connect",g),E.setup?.(),E}function f(y){const{info:P}=y,E=y.provider;return Mo({target:{...P,id:P.rdns,provider:E}})}const l=new Map;function d(y={}){const P=y.chainId??b.getState().chainId,E=a.getState().find(C=>C.id===P);if(y.chainId&&!E)throw new Ft;{const C=l.get(b.getState().chainId);if(C&&!E)return C;if(!E)throw new Ft}{const C=l.get(P);if(C)return C}let I;if(i.client)I=i.client({chain:E});else{const C=E.id,$=a.getState().map(R=>R.id),B={},F=Object.entries(i);for(const[R,z]of F)if(!(R==="chains"||R==="client"||R==="connectors"||R==="transports"))if(typeof z=="object")if(C in z)B[R]=z[C];else{if($.some(O=>O in z))continue;B[R]=z}else B[R]=z;I=Ro({...B,chain:E,batch:B.batch??{multicall:!0},transport:R=>i.transports[C]({...R,connectors:c})})}return l.set(P,I),I}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let m;const p="0.0.0-canary-";Er.startsWith(p)?m=Number.parseInt(Er.replace(p,""),10):m=Number.parseInt(Er.split(".")[0]??"0",10);const b=Fs(Fy(n?_y(h,{migrate(y,P){if(P===m)return y;const E=h(),I=v(y,E.chainId);return{...E,chainId:I}},name:"store",partialize(y){return{connections:{__type:"Map",value:Array.from(y.connections.entries()).map(([P,E])=>{const{id:I,name:C,type:$,uid:B}=E.connector;return[P,{...E,connector:{id:I,name:C,type:$,uid:B}}]})},chainId:y.chainId,current:y.current}},merge(y,P){typeof y=="object"&&y&&"status"in y&&delete y.status;const E=v(y,P.chainId);return{...P,...y,chainId:E}},skipHydration:s,storage:n,version:m}):h));b.setState(h());function v(y,P){return y&&typeof y=="object"&&"chainId"in y&&typeof y.chainId=="number"&&a.getState().some(E=>E.id===y.chainId)?y.chainId:P}r&&b.subscribe(({connections:y,current:P})=>P?y.get(P)?.chainId:void 0,y=>{if(a.getState().some(E=>E.id===y))return b.setState(E=>({...E,chainId:y??E.chainId}))}),o?.subscribe(y=>{const P=new Set,E=new Set;for(const C of c.getState())if(P.add(C.id),C.rdns){const $=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const B of $)E.add(B)}const I=[];for(const C of y){if(E.has(C.info.rdns))continue;const $=u(f(C));P.has($.id)||I.push($)}n&&!b.persist.hasHydrated()||c.setState(C=>[...C,...I],!0)});function x(y){b.setState(P=>{const E=P.connections.get(y.uid);return E?{...P,connections:new Map(P.connections).set(y.uid,{accounts:y.accounts??E.accounts,chainId:y.chainId??E.chainId,connector:E.connector})}:P})}function g(y){b.getState().status==="connecting"||b.getState().status==="reconnecting"||b.setState(P=>{const E=c.getState().find(I=>I.uid===y.uid);return E?(E.emitter.listenerCount("connect")&&E.emitter.off("connect",x),E.emitter.listenerCount("change")||E.emitter.on("change",x),E.emitter.listenerCount("disconnect")||E.emitter.on("disconnect",w),{...P,connections:new Map(P.connections).set(y.uid,{accounts:y.accounts,chainId:y.chainId,connector:E}),current:y.uid,status:"connected"}):P})}function w(y){b.setState(P=>{const E=P.connections.get(y.uid);if(E){const C=E.connector;C.emitter.listenerCount("change")&&E.connector.emitter.off("change",x),C.emitter.listenerCount("disconnect")&&E.connector.emitter.off("disconnect",w),C.emitter.listenerCount("connect")||E.connector.emitter.on("connect",g)}if(P.connections.delete(y.uid),P.connections.size===0)return{...P,connections:new Map,current:null,status:"disconnected"};const I=P.connections.values().next().value;return{...P,connections:new Map(P.connections),current:I.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:d,get state(){return b.getState()},setState(y){let P;typeof y=="function"?P=y(b.getState()):P=y;const E=h();typeof P!="object"&&(P=E),Object.keys(E).some(C=>!(C in P))&&(P=E),b.setState(P,!0)},subscribe(y,P,E){return b.subscribe(y,P,E?{...E,fireImmediately:E.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const y=b.getState(),P=y.connections;let E=y.current;for(const[,I]of P){const C=I.connector;C.isAuthorized&&await C.isAuthorized()||(P.delete(C.uid),E===C.uid&&(E=null))}b.setState(I=>({...I,connections:P,current:E}))},store:b,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(y){const P=typeof y=="function"?y(a.getState()):y;if(P.length!==0)return a.setState(P,!0)},subscribe(y){return a.subscribe(y)}},connectors:{providerDetailToConnector:f,setup:u,setState(y){return c.setState(typeof y=="function"?y(c.getState()):y,!0)},subscribe(y){return c.subscribe(y)}},events:{change:x,connect:g,disconnect:w}}}}function Qy(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const i=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const f of u)i.add(f)}const o=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(i.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),f=e._internal.connectors.setup(u);o.push(f)}return[...s,...o]})),r?Ey(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function rd(e){const{chain:t}=e,n=t.rpcUrls.default.http[0];if(!e.transports)return[n];const r=e.transports?.[t.id]?.({chain:t});return(r?.value?.transports||[r]).map(({value:i})=>i?.url||n)}function Zy(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=Qy(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=D.useRef(!0);return D.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const sd=D.createContext(void 0);function Z6(e){const{children:t,config:n}=e,r={value:n};return D.createElement(Zy,e,D.createElement(sd.Provider,r,t))}const Yy="2.19.4",Jy=()=>`wagmi@${Yy}`;class Xy extends st{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Jy()}}class eg extends Xy{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function me(e={}){const t=e.config??D.useContext(sd);if(!t)throw new eg;return t}function tg(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var Ns={exports:{}},_s={},Us={exports:{}},zs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa;function ng(){if(Xa)return zs;Xa=1;var e=Mi();function t(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(l,d){var h=d(),m=r({inst:{value:h,getSnapshot:d}}),p=m[0].inst,b=m[1];return i(function(){p.value=h,p.getSnapshot=d,c(p)&&b({inst:p})},[l,h,d]),s(function(){return c(p)&&b({inst:p}),l(function(){c(p)&&b({inst:p})})},[l]),o(h),h}function c(l){var d=l.getSnapshot;l=l.value;try{var h=d();return!n(l,h)}catch{return!0}}function u(l,d){return d()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return zs.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,zs}var ec;function rg(){return ec||(ec=1,Us.exports=ng()),Us.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc;function sg(){if(tc)return _s;tc=1;var e=Mi(),t=rg();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return _s.useSyncExternalStoreWithSelector=function(u,f,l,d,h){var m=i(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=a(function(){function v(P){if(!x){if(x=!0,g=P,P=d(P),h!==void 0&&p.hasValue){var E=p.value;if(h(E,P))return w=E}return w=P}if(E=w,r(g,P))return E;var I=d(P);return h!==void 0&&h(E,I)?(g=P,E):(g=P,w=I)}var x=!1,g,w,y=l===void 0?null:l;return[function(){return v(f())},y===null?void 0:function(){return v(y())}]},[f,l,d,h]);var b=s(u,m[0],m[1]);return o(function(){p.hasValue=!0,p.value=b},[b]),c(b),b},_s}var nc;function ig(){return nc||(nc=1,Ns.exports=sg()),Ns.exports}var id=ig();const js=e=>typeof e=="object"&&!Array.isArray(e);function og(e,t,n=t,r=Mt){const s=D.useRef([]),i=id.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,a)=>{if(js(o)&&js(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return D.useMemo(()=>{if(js(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function Y6(e={}){const t=me(e);return og(n=>td(t,{onChange:n}),()=>ed(t))}function J6(e={}){const{onConnect:t,onDisconnect:n}=e,r=me(e);D.useEffect(()=>td(r,{onChange(s,i){if((i.status==="reconnecting"||i.status==="connecting"&&i.address===void 0)&&s.status==="connected"){const{address:o,addresses:a,chain:c,chainId:u,connector:f}=s,l=i.status==="reconnecting"||i.status===void 0;t?.({address:o,addresses:a,chain:c,chainId:u,connector:f,isReconnected:l})}else i.status==="connected"&&s.status==="disconnected"&&n?.()}}),[r,t,n])}var hn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ag={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cg=class{#e=ag;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},wt=new cg;function ug(e){setTimeout(e,0)}var Nt=typeof window>"u"||"Deno"in globalThis;function se(){}function fg(e,t){return typeof e=="function"?e(t):e}function $i(e){return typeof e=="number"&&e>=0&&e!==1/0}function od(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dt(e,t){return typeof e=="function"?e(t):e}function Se(e,t){return typeof e=="function"?e(t):e}function rc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==No(o,t.options))return!1}else if(!Wn(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function sc(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(_t(t.options.mutationKey)!==_t(i))return!1}else if(!Wn(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function No(e,t){return(t?.queryKeyHashFn||_t)(e)}function _t(e){return JSON.stringify(e,(t,n)=>Bi(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Wn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Wn(e[n],t[n])):!1}var dg=Object.prototype.hasOwnProperty;function ad(e,t){if(e===t)return e;const n=ic(e)&&ic(t);if(!n&&!(Bi(e)&&Bi(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u],l=e[f],d=t[f];if(l===d){a[f]=l,(n?u<s:dg.call(e,f))&&c++;continue}if(l===null||d===null||typeof l!="object"||typeof d!="object"){a[f]=d;continue}const h=ad(l,d);a[f]=h,h===l&&c++}return s===o&&c===s?e:a}function Tr(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ic(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Bi(e){if(!oc(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!oc(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oc(e){return Object.prototype.toString.call(e)==="[object Object]"}function lg(e){return new Promise(t=>{wt.setTimeout(t,e)})}function Oi(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ad(e,t):t}function hg(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function pg(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var _o=Symbol();function cd(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===_o?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ud(e,t){return typeof e=="function"?e(...t):!!e}var bg=class extends hn{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Nt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Uo=new bg;function Ti(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var mg=ug;function yg(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=mg;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Q=yg(),gg=class extends hn{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Nt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},kr=new gg;function wg(e){return Math.min(1e3*2**e,3e4)}function fd(e){return(e??"online")==="online"?kr.isOnline():!0}var ki=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function dd(e){let t=!1,n=0,r;const s=Ti(),i=()=>s.status!=="pending",o=p=>{if(!i()){const b=new ki(p);d(b),e.onCancel?.(b)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Uo.isFocused()&&(e.networkMode==="always"||kr.isOnline())&&e.canRun(),f=()=>fd(e.networkMode)&&e.canRun(),l=p=>{i()||(r?.(),s.resolve(p))},d=p=>{i()||(r?.(),s.reject(p))},h=()=>new Promise(p=>{r=b=>{(i()||u())&&p(b)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),m=()=>{if(i())return;let p;const b=n===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(l).catch(v=>{if(i())return;const x=e.retry??(Nt?0:3),g=e.retryDelay??wg,w=typeof g=="function"?g(n,v):g,y=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!y){d(v);return}n++,e.onFail?.(n,v),lg(w).then(()=>u()?void 0:h()).then(()=>{t?d(v):m()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?m():h().then(m),s)}}var ld=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$i(this.gcTime)&&(this.#e=wt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nt?1/0:300*1e3))}clearGcTimeout(){this.#e&&(wt.clearTimeout(this.#e),this.#e=void 0)}},vg=class extends ld{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=cc(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=cc(this.options);t.data!==void 0&&(this.setState(ac(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Oi(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(se).catch(se):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Se(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_o||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>dt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!od(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=cd(this.options,t),u=(()=>{const f={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#a=!1,this.options.persister?this.options.persister(a,u,this):a(u)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=dd({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof ki&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,c)=>{this.#i({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof ki){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hd(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...ac(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Q.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function hd(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fd(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ac(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cc(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xg=class extends hn{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#a=Ti(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#b;#l;#h;#u;#f;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),uc(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ri(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ri(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#x(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Se(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),t._defaulted&&!Tr(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&fc(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Se(this.options.enabled,this.#t)!==Se(t.enabled,this.#t)||dt(this.options.staleTime,this.#t)!==dt(t.staleTime,this.#t))&&this.#m();const s=this.#y();r&&(this.#t!==n||Se(this.options.enabled,this.#t)!==Se(t.enabled,this.#t)||s!==this.#c)&&this.#g(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return Pg(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#E();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(se)),t}#m(){this.#v();const e=dt(this.options.staleTime,this.#t);if(Nt||this.#s.isStale||!$i(e))return;const n=od(this.#s.dataUpdatedAt,e)+1;this.#u=wt.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#x(),this.#c=e,!(Nt||Se(this.options.enabled,this.#t)===!1||!$i(this.#c)||this.#c===0)&&(this.#f=wt.setInterval(()=>{(this.options.refetchIntervalInBackground||Uo.isFocused())&&this.#d()},this.#c))}#w(){this.#m(),this.#g(this.#y())}#v(){this.#u&&(wt.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#f&&(wt.clearInterval(this.#f),this.#f=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#s,i=this.#r,o=this.#o,c=e!==n?e.state:this.#n,{state:u}=e;let f={...u},l=!1,d;if(t._optimisticResults){const I=this.hasListeners(),C=!I&&uc(e,t),$=I&&fc(e,n,t,r);(C||$)&&(f={...f,...hd(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:p}=f;d=f.data;let b=!1;if(t.placeholderData!==void 0&&d===void 0&&p==="pending"){let I;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=s.data,b=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(p="success",d=Oi(s?.data,I,t),l=!0)}if(t.select&&d!==void 0&&!b)if(s&&d===i?.data&&t.select===this.#b)d=this.#l;else try{this.#b=t.select,d=t.select(d),d=Oi(s?.data,d,t),this.#l=d,this.#i=null}catch(I){this.#i=I}this.#i&&(h=this.#i,d=this.#l,m=Date.now(),p="error");const v=f.fetchStatus==="fetching",x=p==="pending",g=p==="error",w=x&&v,y=d!==void 0,E={status:p,fetchStatus:f.fetchStatus,isPending:x,isSuccess:p==="success",isError:g,isInitialLoading:w,isLoading:w,data:d,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:g&&!y,isPaused:f.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:g&&y,isStale:zo(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Se(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=B=>{E.status==="error"?B.reject(E.error):E.data!==void 0&&B.resolve(E.data)},C=()=>{const B=this.#a=E.promise=Ti();I(B)},$=this.#a;switch($.status){case"pending":e.queryHash===n.queryHash&&I($);break;case"fulfilled":(E.status==="error"||E.data!==$.value)&&C();break;case"rejected":(E.status!=="error"||E.error!==$.reason)&&C();break}}return E}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Tr(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const a=o;return this.#s[a]!==e[a]&&i.has(a)})};this.#P({listeners:n()})}#E(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#P(e){Q.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Eg(e,t){return Se(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uc(e,t){return Eg(e,t)||e.state.data!==void 0&&Ri(e,t,t.refetchOnMount)}function Ri(e,t,n){if(Se(t.enabled,e)!==!1&&dt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&zo(e,t)}return!1}function fc(e,t,n,r){return(e!==t||Se(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&zo(e,n)}function zo(e,t){return Se(t.enabled,e)!==!1&&e.isStaleByTime(dt(t.staleTime,e))}function Pg(e,t){return!Tr(e.getCurrentResult(),t)}function dc(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},d=cd(t.options,t.fetchOptions),h=async(m,p,b)=>{if(f)return Promise.reject();if(p==null&&m.pages.length)return Promise.resolve(m);const x=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:p,direction:b?"backward":"forward",meta:t.options.meta};return l(P),P})(),g=await d(x),{maxPages:w}=t.options,y=b?pg:hg;return{pages:y(m.pages,g,w),pageParams:y(m.pageParams,p,w)}};if(s&&i.length){const m=s==="backward",p=m?Ig:lc,b={pages:i,pageParams:o},v=p(r,b);a=await h(b,v,m)}else{const m=e??i.length;do{const p=c===0?o[0]??r.initialPageParam:lc(r,a);if(c>0&&p==null)break;a=await h(a,p),c++}while(c<m)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function lc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Ig(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Cg=class extends ld{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||pd(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=dd({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,e,this.state.context,this,n),await this.options.onError?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,e,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Q.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function pd(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sg=class extends hn{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new Cg({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=wr(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=wr(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=wr(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=wr(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Q.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>sc(t,n))}findAll(e={}){return this.getAll().filter(t=>sc(e,t))}notify(e){Q.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Q.batch(()=>Promise.all(e.map(t=>t.continue().catch(se))))}};function wr(e){return e.options.scope?.id}var Ag=class extends hn{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Tr(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&_t(n.mutationKey)!==_t(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??pd();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Q.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#s.onSuccess?.(t.data,n,r,s),this.#s.onSettled?.(t.data,null,n,r,s)):t?.type==="error"&&(this.#s.onError?.(t.error,n,r,s),this.#s.onSettled?.(void 0,t.error,n,r,s))}this.listeners.forEach(n=>{n(this.#t)})})}},$g=class extends hn{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??No(r,t);let i=this.get(s);return i||(i=new vg({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Q.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>rc(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>rc(e,n)):t}notify(e){Q.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Q.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Q.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},e5=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new $g,this.#t=e.mutationCache||new Sg,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Uo.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=kr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(dt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=fg(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Q.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Q.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Q.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Q.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(se).catch(se)}invalidateQueries(e,t={}){return Q.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Q.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(se)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(se)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(dt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(se).catch(se)}fetchInfiniteQuery(e){return e.behavior=dc(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(se).catch(se)}ensureInfiniteQueryData(e){return e.behavior=dc(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(_t(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{Wn(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(_t(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Wn(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=No(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_o&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function Bg(e){return JSON.stringify(e,(t,n)=>Og(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Og(e){if(!hc(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!hc(n)||!n.hasOwnProperty("isPrototypeOf"))}function hc(e){return Object.prototype.toString.call(e)==="[object Object]"}function jo(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:l,queryKeyHashFn:d,retry:h,retryDelay:m,structuralSharing:p,getPreviousPageParam:b,getNextPageParam:v,initialPageParam:x,_optimisticResults:g,enabled:w,notifyOnChangeProps:y,placeholderData:P,refetchInterval:E,refetchIntervalInBackground:I,refetchOnMount:C,refetchOnReconnect:$,refetchOnWindowFocus:B,retryOnMount:F,select:R,staleTime:z,suspense:T,throwOnError:O,config:M,connector:k,query:N,...U}=e;return U}function Tg(e){return{mutationFn(t){return ry(e,t)},mutationKey:["connect"]}}function kg(e){return{mutationFn(t){return py(e,t)},mutationKey:["disconnect"]}}function Rg(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return await gy(e,{...i,address:r})??null},queryKey:Fg(t)}}function Fg(e={}){return["balance",jo(e)]}function Mg(e,t={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("name is required");return vy(e,{...i,name:r})},queryKey:Ng(t)}}function Ng(e={}){return["ensAvatar",jo(e)]}function _g(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return xy(e,{...i,address:r})},queryKey:Ug(t)}}function Ug(e={}){return["ensName",jo(e)]}function zg(e){return{mutationFn(t){return Py(e,t)},mutationKey:["signMessage"]}}function jg(e){return{mutationFn(t){return Cy(e,t)},mutationKey:["switchChain"]}}var bd=D.createContext(void 0),md=e=>{const t=D.useContext(bd);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},t5=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Sd.jsx(bd.Provider,{value:e,children:t})),yd=D.createContext(!1),Lg=()=>D.useContext(yd);yd.Provider;function Dg(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qg=D.createContext(Dg()),Hg=()=>D.useContext(qg),Gg=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Vg=e=>{D.useEffect(()=>{e.clearReset()},[e])},Wg=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||ud(n,[e.error,r])),Kg=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Qg=(e,t)=>e.isLoading&&e.isFetching&&!t,Zg=(e,t)=>e?.suspense&&t.isPending,pc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Yg(e,t,n){const r=Lg(),s=Hg(),i=md(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Kg(o),Gg(o,s),Vg(s);const a=!i.getQueryCache().get(o.queryHash),[c]=D.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(l=>{const d=f?c.subscribe(Q.batchCalls(l)):se;return c.updateResult(),d},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),D.useEffect(()=>{c.setOptions(o)},[o,c]),Zg(o,u))throw pc(o,c,s);if(Wg({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Nt&&Qg(u,r)&&(a?pc(o,c,s):i.getQueryCache().get(o.queryHash)?.promise)?.catch(se).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Jg(e,t){return Yg(e,xg)}function as(e,t){const n=md(),[r]=D.useState(()=>new Ag(n,e));D.useEffect(()=>{r.setOptions(e)},[r,e]);const s=D.useSyncExternalStore(D.useCallback(o=>r.subscribe(Q.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=D.useCallback((o,a)=>{r.mutate(o,a).catch(se)},[r]);if(s.error&&ud(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Lo(e){const t=Jg({...e,queryKeyHashFn:Bg});return t.queryKey=e.queryKey,t}function Do(e={}){const t=me(e);return D.useSyncExternalStore(n=>Sy(t,{onChange:n}),()=>Va(t),()=>Va(t))}function n5(e={}){const{address:t,query:n={}}=e,r=me(e),s=Do({config:r}),i=Rg(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Lo({...n,...i,enabled:o})}function Xg(e={}){const t=me(e);return D.useSyncExternalStore(n=>tg(t,{onChange:n}),()=>Wa(t),()=>Wa(t))}function e6(e={}){const t=me(e);return D.useSyncExternalStore(n=>$y(t,{onChange:n}),()=>Ka(t),()=>Ka(t))}function r5(e={}){const{mutation:t}=e,n=me(e),r=Tg(n),{mutate:s,mutateAsync:i,...o}=as({...t,...r});return D.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:e6({config:n})}}function t6(e={}){const t=me(e);return D.useSyncExternalStore(n=>Ay(t,{onChange:n}),()=>Ii(t),()=>Ii(t))}function s5(e={}){const{mutation:t}=e,n=me(e),r=kg(n),{mutate:s,mutateAsync:i,...o}=as({...t,...r});return{...o,connectors:t6({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function i5(e={}){const{name:t,query:n={}}=e,r=me(e),s=Do({config:r}),i=Mg(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Lo({...n,...i,enabled:o})}function o5(e={}){const{address:t,query:n={}}=e,r=me(e),s=Do({config:r}),i=_g(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Lo({...n,...i,enabled:o})}function a5(e={}){const t=me(e);return id.useSyncExternalStoreWithSelector(n=>By(t,{onChange:n}),()=>Ci(t,e),()=>Ci(t,e),n=>n,(n,r)=>n?.uid===r?.uid)}function c5(e={}){const{mutation:t}=e,n=me(e),r=zg(n),{mutate:s,mutateAsync:i,...o}=as({...t,...r});return{...o,signMessage:s,signMessageAsync:i}}function u5(e={}){const{mutation:t}=e,n=me(e),r=jg(n),{mutate:s,mutateAsync:i,...o}=as({...t,...r});return{...o,chains:Xg({config:n}),switchChain:s,switchChainAsync:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gd=fn(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),n6=gd.create(BigInt("-3")),r6=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),s6=rs({a:n6,b:r6,Fp:gd,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},bo),wd=fn(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),i6=wd.create(BigInt("-3")),o6=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");rs({a:i6,b:o6,Fp:wd,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},Lp);const vd=fn(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),a6=vd.create(BigInt("-3")),c6=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");rs({a:a6,b:c6,Fp:vd,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},jp);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f5=s6,u6={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},f6={block:Bp({format(e){return{transactions:e.transactions?.map(n=>{if(typeof n=="string")return n;const r=Jr(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?Y(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:e.stateRoot}}}),transaction:Ap({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?Y(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:Rb({format(e){return{l1GasPrice:e.l1GasPrice?Y(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?Y(e.l1GasUsed):null,l1Fee:e.l1Fee?Y(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function d6(e,t){return p6(e)?h6(e):mb(e,t)}const l6={transaction:d6};function h6(e){b6(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,u=[t,r,a??"0x",o?le(o):"0x",c?le(c):"0x",s?le(s):"0x",i?"0x1":"0x",n??"0x"];return he(["0x7e",ht(u)])}function p6(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function b6(e){const{from:t,to:n}=e;if(t&&!K(t))throw new re({address:t});if(n&&!K(n))throw new re({address:n})}const qe={blockTime:2e3,contracts:u6,formatters:f6,serializers:l6},d5=Pe({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),l5=Pe({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),wn=1,m6=Pe({...qe,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...qe.contracts,disputeGameFactory:{[wn]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[wn]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[wn]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[wn]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:wn});({...m6});const vn=11155111,y6=Pe({...qe,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...qe.contracts,disputeGameFactory:{[vn]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[vn]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[vn]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[vn]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:vn});({...y6});const h5=Pe({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),p5=Pe({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:23085558},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),xn=1,b5=Pe({...qe,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...qe.contracts,disputeGameFactory:{[xn]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[xn]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[xn]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[xn]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:xn}),En=11155111,m5=Pe({...qe,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...qe.contracts,disputeGameFactory:{[En]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[En]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[En]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[En]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:En}),y5=Pe({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),g5=Pe({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),vr=1,w5=Pe({...qe,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...qe.contracts,l2OutputOracle:{[vr]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[vr]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[vr]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:vr});function v5(e={}){let t,n,r,s;return i=>({id:"baseAccount",name:"Base Account",rdns:"app.base.account",type:"baseAccount",async connect({chainId:o,withCapabilities:a}={}){try{const c=await this.getProvider(),u=(await c.request({method:"eth_requestAccounts",params:[]})).map(l=>X(l));n||(n=this.onAccountsChanged.bind(this),c.on("accountsChanged",n)),r||(r=this.onChainChanged.bind(this),c.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),c.on("disconnect",s));let f=await this.getChainId();return o&&f!==o&&(f=(await this.switchChain({chainId:o}).catch(d=>{if(d.code===q.code)throw d;return{id:f}}))?.id??f),{accounts:a?u.map(l=>({address:l,capabilities:{}})):u,chainId:f}}catch(c){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(c.message)?new q(c):c}},async disconnect(){const o=await this.getProvider();n&&(o.removeListener("accountsChanged",n),n=void 0),r&&(o.removeListener("chainChanged",r),r=void 0),s&&(o.removeListener("disconnect",s),s=void 0),o.disconnect()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>X(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!t){const o=typeof e.preference=="string"?{options:e.preference}:{...e.preference,options:e.preference?.options??"all"},{createBaseAccountSDK:a}=await $t(async()=>{const{createBaseAccountSDK:u}=await import("./index-BYtNVeev.js");return{createBaseAccountSDK:u}},__vite__mapDeps([0,1]));t=a({...e,appChainIds:i.chains.map(u=>u.id),preference:o}).getProvider()}return t},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){const c=i.chains.find(f=>f.id===a);if(!c)throw new we(new Ft);const u=await this.getProvider();try{return await u.request({method:"wallet_switchEthereumChain",params:[{chainId:A(c.id)}]}),c}catch(f){if(f.code===4902)try{let l;o?.blockExplorerUrls?l=o.blockExplorerUrls:l=c.blockExplorers?.default.url?[c.blockExplorers?.default.url]:[];let d;o?.rpcUrls?.length?d=o.rpcUrls:d=[c.rpcUrls.default?.http[0]??""];const h={blockExplorerUrls:l,chainId:A(a),chainName:o?.chainName??c.name,iconUrls:o?.iconUrls,nativeCurrency:o?.nativeCurrency??c.nativeCurrency,rpcUrls:d};return await u.request({method:"wallet_addEthereumChain",params:[h]}),c}catch(l){throw new q(l)}throw new we(f)}},onAccountsChanged(o){o.length===0?this.onDisconnect():i.emitter.emit("change",{accounts:o.map(a=>X(a))})},onChainChanged(o){const a=Number(o);i.emitter.emit("change",{chainId:a})},async onDisconnect(o){i.emitter.emit("disconnect");const a=await this.getProvider();n&&(a.removeListener("accountsChanged",n),n=void 0),r&&(a.removeListener("chainChanged",r),r=void 0),s&&(a.removeListener("disconnect",s),s=void 0)}})}xd.type="metaMask";function xd(e={}){let t,n,r,s,i,o,a,c;return u=>({id:"metaMaskSDK",name:"MetaMask",rdns:["io.metamask","io.metamask.mobile"],type:xd.type,async setup(){const f=await this.getProvider();f?.on&&(o||(o=this.onConnect.bind(this),f.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)))},async connect({chainId:f,isReconnecting:l,withCapabilities:d}={}){const h=await this.getProvider();a||(a=this.onDisplayUri,h.on("display_uri",a));let m=[];l&&(m=await this.getAccounts().catch(()=>[]));try{let p,b;m?.length||(e.connectAndSign||e.connectWith?(e.connectAndSign?p=await t.connectAndSign({msg:e.connectAndSign}):e.connectWith&&(b=await t.connectWith({method:e.connectWith.method,params:e.connectWith.params})),m=await this.getAccounts()):m=(await t.connect()).map(g=>X(g)));let v=await this.getChainId();return f&&v!==f&&(v=(await this.switchChain({chainId:f}).catch(g=>{if(g.code===q.code)throw g;return{id:v}}))?.id??v),a&&(h.removeListener("display_uri",a),a=void 0),p?h.emit("connectAndSign",{accounts:m,chainId:v,signResponse:p}):b&&h.emit("connectWith",{accounts:m,chainId:v,connectWithResponse:b}),o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c)),{accounts:d?m.map(x=>({address:x,capabilities:{}})):m,chainId:v}}catch(p){const b=p;throw b.code===q.code?new q(b):b.code===Le.code?new Le(b):b}},async disconnect(){const f=await this.getProvider();i&&(f.removeListener("chainChanged",i),i=void 0),c&&(f.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o)),await t.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(d=>X(d))},async getChainId(){const f=await this.getProvider(),l=f.getChainId()||await f?.request({method:"eth_chainId"});return Number(l)},async getProvider(){async function f(){const l=await(async()=>{const{default:p}=await $t(async()=>{const{default:b}=await import("./metamask-sdk-B6RS6Q6B.js");return{default:b}},__vite__mapDeps([2,1]));return typeof p!="function"&&typeof p.default=="function"?p.default:p})(),d={};for(const p of u.chains)d[A(p.id)]=rd({chain:p,transports:u.transports})?.[0];t=new l({_source:"wagmi",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...e,readonlyRPCMap:d,dappMetadata:{...e.dappMetadata,name:e.dappMetadata?.name?e.dappMetadata?.name:"wagmi",url:e.dappMetadata?.url?e.dappMetadata?.url:typeof window<"u"?window.location.origin:"https://wagmi.sh"},useDeeplink:e.useDeeplink??!0});const h=await t.init(),m=h?.activeProvider?h.activeProvider:t.getProvider();if(!m)throw new ye;return m}return n||(r||(r=f()),n=await r),n},async isAuthorized(){try{return!!(await kt(()=>ts(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:l}){const d=await this.getProvider(),h=u.chains.find(b=>b.id===l);if(!h)throw new we(new Ft);try{return await d.request({method:"wallet_switchEthereumChain",params:[{chainId:A(l)}]}),await m(),await p(l),h}catch(b){const v=b;if(v.code===q.code)throw new q(v);if(v.code===4902||v?.data?.originalError?.code===4902)try{return await d.request({method:"wallet_addEthereumChain",params:[{blockExplorerUrls:(()=>{const{default:x,...g}=h.blockExplorers??{};if(f?.blockExplorerUrls)return f.blockExplorerUrls;if(x)return[x.url,...Object.values(g).map(w=>w.url)]})(),chainId:A(l),chainName:f?.chainName??h.name,iconUrls:f?.iconUrls,nativeCurrency:f?.nativeCurrency??h.nativeCurrency,rpcUrls:f?.rpcUrls?.length?f.rpcUrls:[h.rpcUrls.default?.http[0]??""]}]}),await m(),await p(l),h}catch(x){const g=x;throw g.code===q.code?new q(g):new we(g)}throw new we(v)}async function m(){await kt(async()=>{const b=ve(await d.request({method:"eth_chainId"}));if(b!==l)throw new Error("User rejected switch after adding network.");return b},{delay:50,retryCount:20})}async function p(b){await new Promise(v=>{const x=(g=>{"chainId"in g&&g.chainId===b&&(u.emitter.off("change",x),v())});u.emitter.on("change",x),u.emitter.emit("change",{chainId:b})})}},async onAccountsChanged(f){if(f.length===0)if(t.isExtensionActive())this.onDisconnect();else return;else if(u.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l})}else u.emitter.emit("change",{accounts:f.map(l=>X(l))})},onChainChanged(f){const l=Number(f);u.emitter.emit("change",{chainId:l})},async onConnect(f){const l=await this.getAccounts();if(l.length===0)return;const d=Number(f.chainId);u.emitter.emit("connect",{accounts:l,chainId:d});const h=await this.getProvider();o&&(h.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),h.on("chainChanged",i)),c||(c=this.onDisconnect.bind(this),h.on("disconnect",c))},async onDisconnect(f){const l=await this.getProvider();f&&f.code===1013&&l&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),i&&(l.removeListener("chainChanged",i),i=void 0),c&&(l.removeListener("disconnect",c),c=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o)))},onDisplayUri(f){u.emitter.emit("message",{type:"display_uri",data:f})}})}function g6(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Fi=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Fi(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fi(r)(n)}}}},w6=(e,t)=>(n,r,s)=>{let i={storage:g6(()=>localStorage),partialize:p=>p,version:0,merge:(p,b)=>({...b,...p}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=i.partialize({...r()});return u.setItem(i.name,{state:p,version:i.version})},l=s.setState;s.setState=(p,b)=>{l(p,b),f()};const d=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>d;let h;const m=()=>{var p,b;if(!u)return;o=!1,a.forEach(x=>{var g;return x((g=r())!=null?g:d)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(p=r())!=null?p:d))||void 0;return Fi(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const g=i.migrate(x.state,x.version);return g instanceof Promise?g.then(w=>[!0,w]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var g;const[w,y]=x;if(h=i.merge(y,(g=r())!=null?g:d),n(h,!0),w)return f()}).then(()=>{v?.(h,void 0),h=r(),o=!0,c.forEach(x=>x(h))}).catch(x=>{v?.(void 0,x)})};return s.persist={setOptions:p=>{i={...i,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||m(),h||d},x5=w6,bc=e=>{let t;const n=new Set,r=(u,f)=>{const l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){const d=t;t=f??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(h=>h(t,d))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},E5=e=>e?bc(e):bc;function jt(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function v6(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=jt(n);return(s,i)=>r.then(o=>i(o.transaction(t,s).objectStore(t)))}let Ls;function ar(){return Ls||(Ls=v6("keyval-store","keyval")),Ls}function P5(e,t=ar()){return t("readonly",n=>jt(n.get(e)))}function I5(e,t,n=ar()){return n("readwrite",r=>(r.put(t,e),jt(r.transaction)))}function C5(e,t=ar()){return t("readwrite",n=>(n.delete(e),jt(n.transaction)))}function S5(e=ar()){return e("readwrite",t=>(t.clear(),jt(t.transaction)))}function x6(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},jt(e.transaction)}function A5(e=ar()){return e("readonly",t=>{if(t.getAllKeys)return jt(t.getAllKeys());const n=[];return x6(t,r=>n.push(r.key)).then(()=>n)})}Ed.type="safe";function Ed(e={}){const{shimDisconnect:t=!1}=e;let n,r;return s=>({id:"safe",name:"Safe",type:Ed.type,async connect({withCapabilities:i}={}){const o=await this.getProvider();if(!o)throw new ye;const a=await this.getAccounts(),c=await this.getChainId();return r||(r=this.onDisconnect.bind(this),o.on("disconnect",r)),t&&await s.storage?.removeItem("safe.disconnected"),{accounts:i?a.map(u=>({address:u,capabilities:{}})):a,chainId:c}},async disconnect(){const i=await this.getProvider();if(!i)throw new ye;r&&(i.removeListener("disconnect",r),r=void 0),t&&await s.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const i=await this.getProvider();if(!i)throw new ye;return(await i.request({method:"eth_accounts"})).map(X)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!n){const{default:o}=await $t(async()=>{const{default:f}=await import("./index-BBZAxGsu.js");return{default:f}},__vite__mapDeps([3,4,1])),a=new o(e),c=await ts(()=>a.safe.getInfo(),{timeout:e.unstable_getInfoTimeout??10});if(!c)throw new Error("Could not load Safe information");const u=await(async()=>{const f=await $t(()=>import("./index-Dwr_subZ.js").then(l=>l.i),__vite__mapDeps([5,1,4,6]));return typeof f.SafeAppProvider!="function"&&typeof f.default.SafeAppProvider=="function"?f.default.SafeAppProvider:f.SafeAppProvider})();n=new u(c,a)}return n}},async getChainId(){const i=await this.getProvider();if(!i)throw new ye;return Number(i.chainId)},async isAuthorized(){try{return t&&await s.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){s.emitter.emit("disconnect")}})}Pd.type="walletConnect";function Pd(e){const t=e.isNewChainsStale??!0;let n,r;const s="eip155";let i,o,a,c,u,f;return l=>({id:"walletConnect",name:"WalletConnect",type:Pd.type,async setup(){const d=await this.getProvider().catch(()=>null);d&&(a||(a=this.onConnect.bind(this),d.on("connect",a)),u||(u=this.onSessionDelete.bind(this),d.on("session_delete",u)))},async connect({chainId:d,withCapabilities:h,...m}={}){try{const p=await this.getProvider();if(!p)throw new ye;c||(c=this.onDisplayUri,p.on("display_uri",c));let b=d;if(!b){const w=await l.storage?.getItem("state")??{};l.chains.some(P=>P.id===w.chainId)?b=w.chainId:b=l.chains[0]?.id}if(!b)throw new Error("No chains found on connector.");const v=await this.isChainsStale();if(p.session&&v&&await p.disconnect(),!p.session||v){const w=l.chains.filter(y=>y.id!==b).map(y=>y.id);await p.connect({optionalChains:[b,...w],..."pairingTopic"in m?{pairingTopic:m.pairingTopic}:{}}),this.setRequestedChainsIds(l.chains.map(y=>y.id))}const x=(await p.enable()).map(w=>X(w));let g=await this.getChainId();return d&&g!==d&&(g=(await this.switchChain({chainId:d}).catch(y=>{if(y.code===q.code&&y.cause?.message!=="Missing or invalid. request() method: wallet_addEthereumChain")throw y;return{id:g}}))?.id??g),c&&(p.removeListener("display_uri",c),c=void 0),a&&(p.removeListener("connect",a),a=void 0),i||(i=this.onAccountsChanged.bind(this),p.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),p.on("chainChanged",o)),f||(f=this.onDisconnect.bind(this),p.on("disconnect",f)),u||(u=this.onSessionDelete.bind(this),p.on("session_delete",u)),{accounts:h?x.map(w=>({address:w,capabilities:{}})):x,chainId:g}}catch(p){throw/(user rejected|connection request reset)/i.test(p?.message)?new q(p):p}},async disconnect(){const d=await this.getProvider();try{await d?.disconnect()}catch(h){if(!/No matching key/i.test(h.message))throw h}finally{o&&(d?.removeListener("chainChanged",o),o=void 0),f&&(d?.removeListener("disconnect",f),f=void 0),a||(a=this.onConnect.bind(this),d?.on("connect",a)),i&&(d?.removeListener("accountsChanged",i),i=void 0),u&&(d?.removeListener("session_delete",u),u=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(h=>X(h))},async getProvider({chainId:d}={}){async function h(){const m=l.chains.map(b=>b.id);if(!m.length)return;const{EthereumProvider:p}=await $t(async()=>{const{EthereumProvider:b}=await import("./index.es-iK4K53oo.js").then(v=>v.W);return{EthereumProvider:b}},__vite__mapDeps([7,1,6]));return await p.init({...e,disableProviderPing:!0,optionalChains:m,projectId:e.projectId,rpcMap:Object.fromEntries(l.chains.map(b=>{const[v]=rd({chain:b,transports:l.transports});return[b.id,v]})),showQrModal:e.showQrModal??!0})}return n||(r||(r=h()),n=await r,n?.events.setMaxListeners(Number.POSITIVE_INFINITY)),d&&await this.switchChain?.({chainId:d}),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[d,h]=await Promise.all([this.getAccounts(),this.getProvider()]);return d.length?await this.isChainsStale()&&h.session?(await h.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){const m=await this.getProvider();if(!m)throw new ye;const p=l.chains.find(b=>b.id===h);if(!p)throw new we(new Ft);try{await Promise.all([new Promise(v=>{const x=({chainId:g})=>{g===h&&(l.emitter.off("change",x),v())};l.emitter.on("change",x)}),m.request({method:"wallet_switchEthereumChain",params:[{chainId:A(h)}]})]);const b=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...b,h]),p}catch(b){const v=b;if(/(user rejected)/i.test(v.message))throw new q(v);try{let x;d?.blockExplorerUrls?x=d.blockExplorerUrls:x=p.blockExplorers?.default.url?[p.blockExplorers?.default.url]:[];let g;d?.rpcUrls?.length?g=d.rpcUrls:g=[...p.rpcUrls.default.http];const w={blockExplorerUrls:x,chainId:A(h),chainName:d?.chainName??p.name,iconUrls:d?.iconUrls,nativeCurrency:d?.nativeCurrency??p.nativeCurrency,rpcUrls:g};await m.request({method:"wallet_addEthereumChain",params:[w]});const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,h]),p}catch(x){throw new q(x)}}},onAccountsChanged(d){d.length===0?this.onDisconnect():l.emitter.emit("change",{accounts:d.map(h=>X(h))})},onChainChanged(d){const h=Number(d);l.emitter.emit("change",{chainId:h})},async onConnect(d){const h=Number(d.chainId),m=await this.getAccounts();l.emitter.emit("connect",{accounts:m,chainId:h})},async onDisconnect(d){this.setRequestedChainsIds([]),l.emitter.emit("disconnect");const h=await this.getProvider();i&&(h.removeListener("accountsChanged",i),i=void 0),o&&(h.removeListener("chainChanged",o),o=void 0),f&&(h.removeListener("disconnect",f),f=void 0),u&&(h.removeListener("session_delete",u),u=void 0),a||(a=this.onConnect.bind(this),h.on("connect",a))},onDisplayUri(d){l.emitter.emit("message",{type:"display_uri",data:d})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return n?n.session?.namespaces[s]?.accounts?.map(h=>Number.parseInt(h.split(":")[1]||"",10))??[]:[]},async getRequestedChainsIds(){return await l.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!t)return!1;const d=l.chains.map(p=>p.id),h=this.getNamespaceChainsIds();if(h.length&&!h.some(p=>d.includes(p)))return!1;const m=await this.getRequestedChainsIds();return!d.every(p=>m.includes(p))},async setRequestedChainsIds(d){await l.storage?.setItem(this.requestedChainsStorageKey,d)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}export{K as $,Kf as A,S as B,nh as C,yo as D,jy as E,io as F,et as G,Po as H,V as I,tt as J,dn as K,Ro as L,m6 as M,l5 as N,d5 as O,y5 as P,p5 as Q,h5 as R,w5 as S,b5 as T,y6 as U,g5 as V,m5 as W,H6 as X,V6 as Y,Pe as Z,$t as _,Hb as a,Re as a0,f5 as a1,v6 as a2,I5 as a3,C5 as a4,P5 as a5,Ct as a6,le as a7,q6 as a8,vt as a9,u5 as aA,c5 as aB,q as aC,o5 as aD,Jg as aE,i5 as aF,K6 as aG,Ed as aH,v5 as aI,xd as aJ,Mo as aK,Pd as aL,e5 as aM,Z6 as aN,t5 as aO,Ae as aa,de as ab,sh as ac,Pt as ad,G as ae,W6 as af,U6 as ag,Gd as ah,Qn as ai,ve as aj,un as ak,Dr as al,G6 as am,S5 as an,A5 as ao,D as ap,Sd as aq,Q6 as ar,J6 as as,P6 as at,me as au,a5 as av,Y6 as aw,n5 as ax,r5 as ay,s5 as az,g6 as b,E5 as c,Fe as d,_e as e,Ze as f,nt as g,pf as h,z6 as i,_ as j,J as k,di as l,tu as m,A as n,qr as o,x5 as p,Te as q,$e as r,L6 as s,ou as t,Js as u,Gi as v,Y as w,ae as x,Tp as y,D6 as z};
